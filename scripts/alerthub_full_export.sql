-- MySQL dump 10.13  Distrib 5.7.31, for macos10.14 (x86_64)
--
-- Host: 10.10.217.225    Database: alerthub
-- ------------------------------------------------------
-- Server version	8.0.43

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `alert_cur_events`
--

DROP TABLE IF EXISTS `alert_cur_events`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_cur_events` (
  `tenant_id` longtext,
  `event_id` longtext,
  `rule_group_id` longtext,
  `rule_id` longtext,
  `rule_name` longtext,
  `datasource_type` longtext,
  `datasource_id` longtext,
  `fingerprint` longtext,
  `severity` longtext,
  `labels` longtext,
  `eval_interval` bigint DEFAULT NULL,
  `for_duration` bigint DEFAULT NULL,
  `first_trigger_time` bigint DEFAULT NULL,
  `repeat_notice_interval` bigint DEFAULT NULL,
  `effective_time` longtext,
  `fault_center_id` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_cur_events`
--

LOCK TABLES `alert_cur_events` WRITE;
/*!40000 ALTER TABLE `alert_cur_events` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_cur_events` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alert_data_sources`
--

DROP TABLE IF EXISTS `alert_data_sources`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_data_sources` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `name` longtext,
  `labels` longtext,
  `type` longtext,
  `http` longtext,
  `auth` longtext,
  `ds_ali_cloud_config` longtext,
  `aws_cloud_watch` longtext,
  `click_house_config` longtext,
  `description` longtext,
  `kube_config` longtext,
  `update_by` longtext,
  `update_at` bigint DEFAULT NULL,
  `enabled` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_data_sources`
--

LOCK TABLES `alert_data_sources` WRITE;
/*!40000 ALTER TABLE `alert_data_sources` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_data_sources` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alert_his_events`
--

DROP TABLE IF EXISTS `alert_his_events`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_his_events` (
  `tenant_id` longtext,
  `event_id` longtext,
  `datasource_id` longtext,
  `datasource_type` longtext,
  `fingerprint` longtext,
  `rule_id` longtext,
  `rule_name` longtext,
  `severity` longtext,
  `labels` longtext,
  `eval_interval` bigint DEFAULT NULL,
  `annotations` longtext,
  `first_trigger_time` bigint DEFAULT NULL,
  `last_eval_time` bigint DEFAULT NULL,
  `last_send_time` bigint DEFAULT NULL,
  `recover_time` bigint DEFAULT NULL,
  `fault_center_id` longtext,
  `confirm_state` longtext,
  `alarm_duration` bigint DEFAULT NULL,
  `search_ql` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_his_events`
--

LOCK TABLES `alert_his_events` WRITE;
/*!40000 ALTER TABLE `alert_his_events` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_his_events` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alert_notices`
--

DROP TABLE IF EXISTS `alert_notices`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_notices` (
  `tenant_id` longtext,
  `uuid` longtext,
  `name` longtext,
  `duty_id` longtext,
  `notice_type` longtext,
  `notice_tmpl_id` longtext,
  `hook` longtext,
  `sign` longtext,
  `routes` longtext,
  `email` longtext,
  `phone_number` longtext,
  `update_at` bigint DEFAULT NULL,
  `update_by` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_notices`
--

LOCK TABLES `alert_notices` WRITE;
/*!40000 ALTER TABLE `alert_notices` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_notices` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alert_rules`
--

DROP TABLE IF EXISTS `alert_rules`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_rules` (
  `tenant_id` longtext,
  `rule_id` longtext,
  `rule_group_id` longtext,
  `external_labels` longtext,
  `datasource_type` longtext,
  `datasource_id_list` longtext,
  `rule_name` longtext,
  `eval_interval` bigint DEFAULT NULL,
  `eval_time_type` longtext,
  `repeat_notice_interval` bigint DEFAULT NULL,
  `description` longtext,
  `effective_time` longtext,
  `severity` longtext,
  `prometheus_config` longtext,
  `ali_cloud_sls_config` longtext,
  `loki_config` longtext,
  `victoria_logs_config` longtext,
  `click_house_config` longtext,
  `jaeger_config` longtext,
  `cloud_watch_config` longtext,
  `kubernetes_config` longtext,
  `elastic_search_config` longtext,
  `log_eval_condition` longtext,
  `fault_center_id` longtext,
  `update_at` bigint DEFAULT NULL,
  `update_by` longtext,
  `enabled` tinyint(1) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_rules`
--

LOCK TABLES `alert_rules` WRITE;
/*!40000 ALTER TABLE `alert_rules` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_rules` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alert_silences`
--

DROP TABLE IF EXISTS `alert_silences`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_silences` (
  `tenant_id` longtext,
  `name` longtext,
  `id` varchar(191) NOT NULL,
  `labels` longtext,
  `starts_at` bigint DEFAULT NULL,
  `update_by` longtext,
  `ends_at` bigint DEFAULT NULL,
  `update_at` bigint DEFAULT NULL,
  `fault_center_id` longtext,
  `comment` longtext,
  `status` bigint DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_silences`
--

LOCK TABLES `alert_silences` WRITE;
/*!40000 ALTER TABLE `alert_silences` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_silences` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `alert_subscribes`
--

DROP TABLE IF EXISTS `alert_subscribes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `alert_subscribes` (
  `s_id` longtext,
  `s_tenant_id` longtext,
  `s_user_id` longtext,
  `s_user_email` longtext,
  `s_rule_id` longtext,
  `s_rule_name` longtext,
  `s_rule_type` longtext,
  `s_rule_severity` longtext,
  `s_notice_subject` longtext,
  `s_notice_template_id` longtext,
  `s_filter` longtext,
  `s_create_at` bigint DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `alert_subscribes`
--

LOCK TABLES `alert_subscribes` WRITE;
/*!40000 ALTER TABLE `alert_subscribes` DISABLE KEYS */;
/*!40000 ALTER TABLE `alert_subscribes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `audit_logs`
--

DROP TABLE IF EXISTS `audit_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `audit_logs` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `username` longtext,
  `ip_address` longtext,
  `method` longtext,
  `path` longtext,
  `created_at` bigint DEFAULT NULL,
  `status_code` bigint DEFAULT NULL,
  `body` longtext,
  `audit_type` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `audit_logs`
--

LOCK TABLES `audit_logs` WRITE;
/*!40000 ALTER TABLE `audit_logs` DISABLE KEYS */;
INSERT INTO `audit_logs` VALUES ('default','Traced4sjs639pm8g4q6daetg','admin','::1','POST','/api/w8t/noticeTemplate/noticeTemplateCreate',1765359128,200,'{\"name\":\"飞书通知模板\",\"description\":\"发送飞书的普通消息模版\",\"template\":\"{{- define \\\"Title\\\" -}}\\n{{- if not .IsRecovered -}}\\n【报警中】- AlertHub 业务系统 \\n{{- else -}}\\n【已恢复】- AlertHub 业务系统 \\n{{- end -}}\\n{{- end }}\\n\\n{{- define \\\"TitleColor\\\" -}}\\n{{- if not .IsRecovered -}}\\nred\\n{{- else -}}\\ngreen\\n{{- end -}}\\n{{- end }}\\n\\n{{ define \\\"Event\\\" -}}\\n{{- if not .IsRecovered -}}\\n**报警类型:** ${rule_name}\\n**报警指纹:** ${fingerprint}\\n**报警等级:** ${severity}\\n**报警主机:** ${labels.instance}\\n**开始时间:** ${first_trigger_time_format}\\n**值班人员:** ${duty_user}\\n**报警事件:** ${annotations}\\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\\n{{- else -}}\\n**报警类型:** ${rule_name}\\n**报警指纹:** ${fingerprint}\\n**报警等级:** ${severity}\\n**报警主机:** ${labels.instance}\\n**开始时间:** ${first_trigger_time_format}\\n**恢复时间:** ${recover_time_format}\\n**值班人员:** ${duty_user}\\n**报警事件:** ${annotations}\\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\\n{{- end -}}\\n{{ end }}\\n\\n{{- define \\\"Footer\\\" -}}\\n AlertHub - 运维团队\\n{{- end }}\",\"noticeType\":\"FeiShu\",\"enableFeiShuJsonCard\":false}','创建通知模版'),('default','Traced4sjujr9pm8g4q6daeug','admin','::1','POST','/api/w8t/noticeTemplate/noticeTemplateCreate',1765359439,200,'{\"name\":\"飞书高级卡片通知模版\",\"description\":\"发送飞书的高级消息卡片模版\",\"templateFiring\":\"{\\n  \\\"elements\\\": [\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**报警指纹：**\\n${fingerprint}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        },\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**开始时间：**\\n${first_trigger_time_format}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**报警主机：**\\n${labels.instance}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"hr\\\"\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**故障中心：**\\n${faultCenter.name}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        },\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**值班人员：**\\n${duty_user}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"hr\\\"\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**报警事件：**\\n${annotations}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"hr\\\",\\n      \\\"flexMode\\\": \\\"\\\",\\n      \\\"background_style\\\": \\\"\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": null,\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"note\\\",\\n      \\\"flexMode\\\": \\\"\\\",\\n      \\\"background_style\\\": \\\"\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": null,\\n      \\\"elements\\\": [\\n        {\\n          \\\"tag\\\": \\\"plain_text\\\",\\n          \\\"content\\\": \\\" AlertHub - 运维团队\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"header\\\": {\\n    \\\"template\\\": \\\"red\\\",\\n    \\\"title\\\": {\\n      \\\"content\\\": \\\"【 ${severity} 报警中】- ${rule_name} \\\",\\n      \\\"tag\\\": \\\"plain_text\\\"\\n    }\\n  },\\n  \\\"tag\\\": \\\"\\\"\\n}\",\"templateRecover\":\"{\\n  \\\"elements\\\": [\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**报警指纹：**\\n${fingerprint}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        },\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**开始时间：**\\n${first_trigger_time_format}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**报警主机：**\\n${labels.instance}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        },\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**恢复时间：**\\n${recover_time_format}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"hr\\\"\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**故障中心：**\\n${faultCenter.name}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        },\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**值班人员：**\\n${duty_user}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"hr\\\",\\n      \\\"flexMode\\\": \\\"\\\",\\n      \\\"background_style\\\": \\\"\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": null,\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"column_set\\\",\\n      \\\"flexMode\\\": \\\"none\\\",\\n      \\\"background_style\\\": \\\"default\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": [\\n        {\\n          \\\"tag\\\": \\\"column\\\",\\n          \\\"width\\\": \\\"weighted\\\",\\n          \\\"weight\\\": 1,\\n          \\\"vertical_align\\\": \\\"top\\\",\\n          \\\"elements\\\": [\\n            {\\n              \\\"tag\\\": \\\"div\\\",\\n              \\\"text\\\": {\\n                \\\"content\\\": \\\"**报警事件：**\\n${annotations}\\\",\\n                \\\"tag\\\": \\\"lark_md\\\"\\n              }\\n            }\\n          ]\\n        }\\n      ],\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"hr\\\",\\n      \\\"flexMode\\\": \\\"\\\",\\n      \\\"background_style\\\": \\\"\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": null,\\n      \\\"elements\\\": null\\n    },\\n    {\\n      \\\"tag\\\": \\\"note\\\",\\n      \\\"flexMode\\\": \\\"\\\",\\n      \\\"background_style\\\": \\\"\\\",\\n      \\\"text\\\": {\\n        \\\"content\\\": \\\"\\\",\\n        \\\"tag\\\": \\\"\\\"\\n      },\\n      \\\"actions\\\": null,\\n      \\\"columns\\\": null,\\n      \\\"elements\\\": [\\n        {\\n          \\\"tag\\\": \\\"plain_text\\\",\\n          \\\"content\\\": \\\" AlertHub - 运维团队\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"header\\\": {\\n    \\\"template\\\": \\\"green\\\",\\n    \\\"title\\\": {\\n      \\\"content\\\": \\\"【 ${severity} 已恢复】- ${rule_name} \\\",\\n      \\\"tag\\\": \\\"plain_text\\\"\\n    }\\n  },\\n  \\\"tag\\\": \\\"\\\"\\n}\",\"noticeType\":\"FeiShu\",\"enableFeiShuJsonCard\":true}','创建通知模版'),('default','Traced4skh9b9pm8iu6fk0b0g','admin','::1','POST','/api/w8t/noticeTemplate/noticeTemplateUpdate',1765361829,200,'{\"name\":\"飞书高级卡片通知模版v2\",\"description\":\"发送飞书的高级消息卡片模版，兼容飞书卡片JSON 1.0 / 2.0\",\"templateFiring\":\"{\\n  \\\"schema\\\": \\\"2.0\\\",\\n  \\\"config\\\": {\\n    \\\"width_mode\\\": \\\"fill\\\",\\n    \\\"enable_forward\\\": true\\n  },\\n  \\\"header\\\": {\\n    \\\"template\\\": \\\"red\\\",\\n    \\\"title\\\": {\\n      \\\"tag\\\": \\\"plain_text\\\",\\n      \\\"content\\\": \\\"【报警中】- AlertHub 业务系统 \\\"\\n    }\\n  },\\n  \\\"body\\\": {\\n    \\\"elements\\\": [\\n      { \\\"tag\\\": \\\"markdown\\\", \\\"content\\\": \\\"**报警类型:** ${rule_name}\\n**报警指纹:** ${fingerprint}\\n**报警等级:** ${severity}\\n**报警主机:** ${labels.instance}\\n**开始时间:** ${first_trigger_time_format}\\n**值班人员:** ${duty_user}\\n**报警事件:** ${annotations}\\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\\\" },\\n      { \\\"tag\\\": \\\"hr\\\"},\\n      { \\\"tag\\\": \\\"markdown\\\", \\\"content\\\": \\\" AlertHub - 运维团队\\\"}\\n    ]\\n  }\\n}\",\"templateRecover\":\"{\\n  \\\"schema\\\": \\\"2.0\\\",\\n  \\\"config\\\": {\\n    \\\"width_mode\\\": \\\"fill\\\",\\n    \\\"enable_forward\\\": true\\n  },\\n  \\\"header\\\": {\\n    \\\"template\\\": \\\"green\\\",\\n    \\\"title\\\": {\\n      \\\"tag\\\": \\\"plain_text\\\",\\n      \\\"content\\\": \\\"【已恢复】- AlertHub 业务系统✨\\\"\\n    }\\n  },\\n  \\\"body\\\": {\\n    \\\"elements\\\": [\\n      { \\\"tag\\\": \\\"markdown\\\", \\\"content\\\": \\\"**报警类型:** ${rule_name}\\n**报警指纹:** ${fingerprint}\\n**报警等级:** ${severity}\\n**报警主机:** ${labels.instance}\\n**开始时间:** ${first_trigger_time_format}\\n**恢复时间:** ${recover_time_format}\\n**值班人员:** ${duty_user}\\n**报警事件:** ${annotations}\\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\\\" },\\n      { \\\"tag\\\": \\\"hr\\\"},\\n      { \\\"tag\\\": \\\"markdown\\\", \\\"content\\\": \\\"AlertHub - 运维团队\\\"}\\n    ]\\n  }\\n}\",\"id\":\"nt-d4skger9pm8iu6fk0avg\",\"noticeType\":\"FeiShu\",\"enableFeiShuJsonCard\":true}','更新通知模版'),('default','Traced4slv639pm8iu6fk0b4g','admin','::1','POST','/api/w8t/noticeTemplate/noticeTemplateCreate',1765367704,200,'{\"name\":\"邮件通知模版\",\"description\":\"发送邮件的普通消息模版\",\"template\":\"{{ define \\\"Event\\\" -}}\\n{{- if not .IsRecovered -}}\\n<p>==========<strong>告警通知</strong>==========</p>\\n<strong>报警类型:</strong> ${rule_name}<br>\\n<strong>报警指纹:</strong> ${fingerprint}<br>\\n<strong>报警等级:</strong> ${severity}<br>\\n<strong>报警主机:</strong> ${labels.node_name}<br>\\n<strong>容器名称:</strong> ${labels.pod}<br>\\n<strong>业务环境:</strong> ${labels.namespace}<br>\\n<strong>开始时间:</strong> ${first_trigger_time_format}<br>\\n<strong>值班人员:</strong> ${duty_user}<br>\\n<strong>报警事件:</strong> ${annotations}<br>\\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\\n{{- else -}}\\n<p>==========<strong>恢复通知</strong>==========</p>\\n<strong>报警类型:</strong> ${rule_name}<br>\\n<strong>报警指纹:</strong> ${fingerprint}<br>\\n<strong>报警等级:</strong> ${severity}<br>\\n<strong>报警主机:</strong> ${labels.node_name}<br>\\n<strong>容器名称:</strong> ${labels.pod}<br>\\n<strong>业务环境:</strong> ${labels.namespace}<br>\\n<strong>开始时间:</strong> ${first_trigger_time_format}<br>\\n<strong>恢复时间:</strong> ${recover_time_format}<br>\\n<strong>值班人员:</strong> ${duty_user}<br>\\n<strong>报警事件:</strong> ${annotations}<br>\\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\\n{{- end -}}\\n{{ end }}\",\"noticeType\":\"Email\",\"enableFeiShuJsonCard\":false}','创建通知模版'),('default','Traced4sm2e39pm8iu6fk0b90','admin','::1','POST','/api/w8t/noticeTemplate/noticeTemplateDelete',1765368120,200,'{\"id\":\"nt-d4sm23r9pm8iu6fk0b70\"}','删除通知模版');
/*!40000 ALTER TABLE `audit_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `comments`
--

DROP TABLE IF EXISTS `comments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `comments` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `tenant_id` longtext,
  `comment_id` longtext,
  `fingerprint` longtext,
  `username` longtext,
  `user_id` longtext,
  `time` bigint DEFAULT NULL,
  `content` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `comments`
--

LOCK TABLES `comments` WRITE;
/*!40000 ALTER TABLE `comments` DISABLE KEYS */;
/*!40000 ALTER TABLE `comments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `dashboard_folders`
--

DROP TABLE IF EXISTS `dashboard_folders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `dashboard_folders` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `name` longtext,
  `theme` longtext,
  `grafana_version` longtext,
  `grafana_host` longtext,
  `grafana_folder_id` longtext,
  `grafana_token` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dashboard_folders`
--

LOCK TABLES `dashboard_folders` WRITE;
/*!40000 ALTER TABLE `dashboard_folders` DISABLE KEYS */;
/*!40000 ALTER TABLE `dashboard_folders` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `dashboards`
--

DROP TABLE IF EXISTS `dashboards`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `dashboards` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `name` varchar(191) DEFAULT NULL,
  `url` longtext,
  `folder_id` longtext,
  `description` longtext,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uni_dashboards_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dashboards`
--

LOCK TABLES `dashboards` WRITE;
/*!40000 ALTER TABLE `dashboards` DISABLE KEYS */;
/*!40000 ALTER TABLE `dashboards` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `duty_managements`
--

DROP TABLE IF EXISTS `duty_managements`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `duty_managements` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `name` longtext,
  `manager` longtext,
  `description` longtext,
  `cur_duty_user` longtext,
  `update_by` longtext,
  `update_at` bigint DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `duty_managements`
--

LOCK TABLES `duty_managements` WRITE;
/*!40000 ALTER TABLE `duty_managements` DISABLE KEYS */;
/*!40000 ALTER TABLE `duty_managements` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `duty_schedules`
--

DROP TABLE IF EXISTS `duty_schedules`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `duty_schedules` (
  `tenant_id` longtext,
  `duty_id` longtext,
  `time` longtext,
  `status` longtext,
  `users` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `duty_schedules`
--

LOCK TABLES `duty_schedules` WRITE;
/*!40000 ALTER TABLE `duty_schedules` DISABLE KEYS */;
/*!40000 ALTER TABLE `duty_schedules` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `members`
--

DROP TABLE IF EXISTS `members`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `members` (
  `user_id` longtext,
  `user_name` longtext,
  `real_name` longtext,
  `email` longtext,
  `phone` longtext,
  `password` longtext,
  `role` longtext,
  `create_by` longtext,
  `create_at` bigint DEFAULT NULL,
  `join_duty` longtext,
  `duty_user_id` longtext,
  `tenants` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `members`
--

LOCK TABLES `members` WRITE;
/*!40000 ALTER TABLE `members` DISABLE KEYS */;
INSERT INTO `members` VALUES ('admin','admin','超管','admin@example.com','18888888888','e10adc3949ba59abbe56e057f20f883e','admin','system',1765358211,'','','[\"default\"]');
/*!40000 ALTER TABLE `members` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `notice_records`
--

DROP TABLE IF EXISTS `notice_records`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `notice_records` (
  `event_id` longtext,
  `date` longtext,
  `create_at` bigint DEFAULT NULL,
  `tenant_id` longtext,
  `rule_name` longtext,
  `n_type` longtext,
  `n_obj` longtext,
  `severity` longtext,
  `status` bigint DEFAULT NULL,
  `alarm_msg` longtext,
  `err_msg` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `notice_records`
--

LOCK TABLES `notice_records` WRITE;
/*!40000 ALTER TABLE `notice_records` DISABLE KEYS */;
/*!40000 ALTER TABLE `notice_records` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `notice_template_examples`
--

DROP TABLE IF EXISTS `notice_template_examples`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `notice_template_examples` (
  `id` varchar(191) COLLATE utf8mb4_general_ci NOT NULL,
  `name` longtext COLLATE utf8mb4_general_ci,
  `notice_type` longtext COLLATE åå,
  `description` longtext COLLATE utf8mb4_general_ci,
  `template` longtext COLLATE utf8mb4_general_ci,
  `template_firing` longtext COLLATE utf8mb4_general_ci,
  `template_recover` longtext COLLATE utf8mb4_general_ci,
  `enable_fei_shu_json_card` tinyint(1) DEFAULT NULL,
  `update_at` bigint DEFAULT NULL,
  `update_by` longtext COLLATE utf8mb4_general_ci,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `notice_template_examples`
--

LOCK TABLES `notice_template_examples` WRITE;
/*!40000 ALTER TABLE `notice_template_examples` DISABLE KEYS */;
INSERT INTO `notice_template_examples` VALUES ('nt-d4sjs639pm8g4q6daet0','飞书通知模板','FeiShu','发送飞书的普通消息模版','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统 \n{{- else -}}\n【已恢复】- AlertHub 业务系统 \n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n**报警类型:** ${rule_name}\n**报警指纹:** ${fingerprint}\n**报警等级:** ${severity}\n**报警主机:** ${labels.instance}\n**开始时间:** ${first_trigger_time_format}\n**值班人员:** ${duty_user}\n**报警事件:** ${annotations}\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\n{{- else -}}\n**报警类型:** ${rule_name}\n**报警指纹:** ${fingerprint}\n**报警等级:** ${severity}\n**报警主机:** ${labels.instance}\n**开始时间:** ${first_trigger_time_format}\n**恢复时间:** ${recover_time_format}\n**值班人员:** ${duty_user}\n**报警事件:** ${annotations}\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n AlertHub - 运维团队\n{{- end }}','','',0,1765359128,'admin'),('nt-d4sjujr9pm8g4q6daeu0','飞书高级卡片通知模版','FeiShu','发送飞书的高级消息卡片模版','','{\n  \"elements\": [\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**报警指纹：**\n${fingerprint}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        },\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**开始时间：**\n${first_trigger_time_format}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**报警主机：**\n${labels.instance}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"hr\"\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**故障中心：**\n${faultCenter.name}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        },\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**值班人员：**\n${duty_user}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"hr\"\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**报警事件：**\n${annotations}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"hr\",\n      \"flexMode\": \"\",\n      \"background_style\": \"\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": null,\n      \"elements\": null\n    },\n    {\n      \"tag\": \"note\",\n      \"flexMode\": \"\",\n      \"background_style\": \"\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": null,\n      \"elements\": [\n        {\n          \"tag\": \"plain_text\",\n          \"content\": \" AlertHub - 运维团队\"\n        }\n      ]\n    }\n  ],\n  \"header\": {\n    \"template\": \"red\",\n    \"title\": {\n      \"content\": \"【 ${severity} 报警中】- ${rule_name} \",\n      \"tag\": \"plain_text\"\n    }\n  },\n  \"tag\": \"\"\n}','{\n  \"elements\": [\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**报警指纹：**\n${fingerprint}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        },\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**开始时间：**\n${first_trigger_time_format}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**报警主机：**\n${labels.instance}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        },\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**恢复时间：**\n${recover_time_format}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"hr\"\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**故障中心：**\n${faultCenter.name}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        },\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**值班人员：**\n${duty_user}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"hr\",\n      \"flexMode\": \"\",\n      \"background_style\": \"\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": null,\n      \"elements\": null\n    },\n    {\n      \"tag\": \"column_set\",\n      \"flexMode\": \"none\",\n      \"background_style\": \"default\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": [\n        {\n          \"tag\": \"column\",\n          \"width\": \"weighted\",\n          \"weight\": 1,\n          \"vertical_align\": \"top\",\n          \"elements\": [\n            {\n              \"tag\": \"div\",\n              \"text\": {\n                \"content\": \"**报警事件：**\n${annotations}\",\n                \"tag\": \"lark_md\"\n              }\n            }\n          ]\n        }\n      ],\n      \"elements\": null\n    },\n    {\n      \"tag\": \"hr\",\n      \"flexMode\": \"\",\n      \"background_style\": \"\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": null,\n      \"elements\": null\n    },\n    {\n      \"tag\": \"note\",\n      \"flexMode\": \"\",\n      \"background_style\": \"\",\n      \"text\": {\n        \"content\": \"\",\n        \"tag\": \"\"\n      },\n      \"actions\": null,\n      \"columns\": null,\n      \"elements\": [\n        {\n          \"tag\": \"plain_text\",\n          \"content\": \" AlertHub - 运维团队\"\n        }\n      ]\n    }\n  ],\n  \"header\": {\n    \"template\": \"green\",\n    \"title\": {\n      \"content\": \"【 ${severity} 已恢复】- ${rule_name} \",\n      \"tag\": \"plain_text\"\n    }\n  },\n  \"tag\": \"\"\n}',1,1765359439,'admin'),('nt-d4skger9pm8iu6fk0avg','飞书高级卡片通知模版v2','FeiShu','发送飞书的高级消息卡片模版，兼容飞书卡片JSON 1.0 / 2.0','','{\n  \"schema\": \"2.0\",\n  \"config\": {\n    \"width_mode\": \"fill\",\n    \"enable_forward\": true\n  },\n  \"header\": {\n    \"template\": \"red\",\n    \"title\": {\n      \"tag\": \"plain_text\",\n      \"content\": \"【报警中】- AlertHub 业务系统 \"\n    }\n  },\n  \"body\": {\n    \"elements\": [\n      { \"tag\": \"markdown\", \"content\": \"**报警类型:** ${rule_name}\n**报警指纹:** ${fingerprint}\n**报警等级:** ${severity}\n**报警主机:** ${labels.instance}\n**开始时间:** ${first_trigger_time_format}\n**值班人员:** ${duty_user}\n**报警事件:** ${annotations}\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\" },\n      { \"tag\": \"hr\"},\n      { \"tag\": \"markdown\", \"content\": \" AlertHub - 运维团队\"}\n    ]\n  }\n}','{\n  \"schema\": \"2.0\",\n  \"config\": {\n    \"width_mode\": \"fill\",\n    \"enable_forward\": true\n  },\n  \"header\": {\n    \"template\": \"green\",\n    \"title\": {\n      \"tag\": \"plain_text\",\n      \"content\": \"【已恢复】- AlertHub 业务系统✨\"\n    }\n  },\n  \"body\": {\n    \"elements\": [\n      { \"tag\": \"markdown\", \"content\": \"**报警类型:** ${rule_name}\n**报警指纹:** ${fingerprint}\n**报警等级:** ${severity}\n**报警主机:** ${labels.instance}\n**开始时间:** ${first_trigger_time_format}\n**恢复时间:** ${recover_time_format}\n**值班人员:** ${duty_user}\n**报警事件:** ${annotations}\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\" },\n      { \"tag\": \"hr\"},\n      { \"tag\": \"markdown\", \"content\": \"AlertHub - 运维团队\"}\n    ]\n  }\n}',1,1765361829,'admin'),('nt-d4slqlr9pm8iu6fk0b10','日志通知模版','FeiShu','日志类告警通知模版','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统 ?\n{{- else -}}\n【已恢复】- AlertHub 业务系统 ✨\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n**报警类型:** ${rule_name}</br>\n**报警等级:** ${severity}</br>\n**开始时间:** ${first_trigger_time_format}</br>\n**值班人员:** ${duty_user}</br>\n**服务名称:** ${log.app}</br>\n**TraceId:** ${log.trace_id}</br>\n**日志内容:** ${log.message}</br>\n{{- else -}}\n**报警类型:** ${rule_name}</br>\n**报警等级:** ${severity}</br>\n**开始时间:** ${first_trigger_time_format}</br>\n**恢复时间:** ${recover_time_format}</br>\n**值班人员:** ${duty_user}</br>\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765367127,'admin'),('nt-d4sltab9pm8iu6fk0b20','飞书SSL证书通知模板','FeiShu','飞书SSL证书通知模板','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统 ?\n{{- else -}}\n【已恢复】- AlertHub 业务系统 ✨\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n**报警类型:** ${rule_name}\n\n**报警指纹:** ${fingerprint}\n\n**报警等级:** ${severity}\n\n**开始时间:** ${first_trigger_time_format}\n\n**值班人员:** ${duty_user}\n\n**报警事件:** ${annotations}\n\n**颁发日期:** ${labels.StartTimeFormatted}\n\n**截止日期:** ${labels.ExpireTimeFormatted}\n\n**故障中心:** ${faultCenter.name}\n{{- else -}}\n**报警类型:** ${rule_name}\n\n**报警指纹:** ${fingerprint}\n\n**报警等级:** ${severity}\n\n**开始时间:** ${first_trigger_time_format}\n\n**恢复时间:** ${recover_time_format}\n\n**值班人员:** ${duty_user}\n\n**报警事件:** ${annotations}\n\n**颁发日期:** ${labels.StartTimeFormatted}\n\n**截止日期:** ${labels.ExpireTimeFormatted}\n\n**故障中心:** ${faultCenter.name}\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765367465,'admin'),('nt-d4sluhb9pm8iu6fk0b30','飞书快捷操作卡片模版','FeiShu','支持快捷操作按钮的飞书消息卡片模板（认领/静默/查看详情）','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统 ?\n{{- else -}}\n【已恢复】- AlertHub 业务系统 ✨\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n**报警类型:** ${rule_name}\n**报警指纹:** ${fingerprint}\n**报警等级:** ${severity}\n**报警主机:** ${labels.instance}\n**开始时间:** ${first_trigger_time_format}\n**值班人员:** ${duty_user}\n**报警事件:** ${annotations}\n**故障中心:** ${faultCenter.name}\n{{- else -}}\n**报警类型:** ${rule_name}\n**报警指纹:** ${fingerprint}\n**报警等级:** ${severity}\n**报警主机:** ${labels.instance}\n**开始时间:** ${first_trigger_time_format}\n**恢复时间:** ${recover_time_format}\n**值班人员:** ${duty_user}\n**报警事件:** ${annotations}\n**故障中心:** ${faultCenter.name}\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765367621,'admin'),('nt-d4slv639pm8iu6fk0b40','邮件通知模版','Email','发送邮件的普通消息模版','{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n<p>==========<strong>告警通知</strong>==========</p>\n<strong>报警类型:</strong> ${rule_name}<br>\n<strong>报警指纹:</strong> ${fingerprint}<br>\n<strong>报警等级:</strong> ${severity}<br>\n<strong>报警主机:</strong> ${labels.node_name}<br>\n<strong>容器名称:</strong> ${labels.pod}<br>\n<strong>业务环境:</strong> ${labels.namespace}<br>\n<strong>开始时间:</strong> ${first_trigger_time_format}<br>\n<strong>值班人员:</strong> ${duty_user}<br>\n<strong>报警事件:</strong> ${annotations}<br>\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\n{{- else -}}\n<p>==========<strong>恢复通知</strong>==========</p>\n<strong>报警类型:</strong> ${rule_name}<br>\n<strong>报警指纹:</strong> ${fingerprint}<br>\n<strong>报警等级:</strong> ${severity}<br>\n<strong>报警主机:</strong> ${labels.node_name}<br>\n<strong>容器名称:</strong> ${labels.pod}<br>\n<strong>业务环境:</strong> ${labels.namespace}<br>\n<strong>开始时间:</strong> ${first_trigger_time_format}<br>\n<strong>恢复时间:</strong> ${recover_time_format}<br>\n<strong>值班人员:</strong> ${duty_user}<br>\n<strong>报警事件:</strong> ${annotations}<br>\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\n{{- end -}}\n{{ end }}','','',0,1765367704,'admin'),('nt-d4slvpb9pm8iu6fk0b50','企微通知模版','WeChat','发送企业微信的普通消息模版','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统 ?\n{{- else -}}\n【已恢复】- AlertHub 业务系统 ✨\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n>**报警类型:** ${rule_name}\n>**报警指纹:** ${fingerprint}\n>**报警等级:** ${severity}\n>**报警主机:** ${labels.instance}\n>**开始时间:** ${first_trigger_time_format}\n>**值班人员:** ${duty_user}\n>**报警事件:** ${annotations}\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\n{{- else -}}\n>**报警类型:** ${rule_name}\n>**报警指纹:** ${fingerprint}\n>**报警等级:** ${severity}\n>**报警主机:** ${labels.instance}\n>**开始时间:** ${first_trigger_time_format}\n>**恢复时间:** ${recover_time_format}\n>**值班人员:** ${duty_user}\n>**报警事件:** ${annotations}\n[查看事件](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765367781,'admin'),('nt-d4sm15r9pm8iu6fk0b60','钉钉通知模版','DingDing','发送钉钉的普通消息模版','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统\n{{- else -}}\n【已恢复】- AlertHub 业务系统\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n&nbsp;**? 报警类型:** ${rule_name}<br>\n**报警指纹:** ${fingerprint}<br>\n**报警等级:** ${severity}<br>\n**报警主机:** ${labels.instance}<br>\n**开始时间:** ${first_trigger_time_format}<br>\n**值班人员:** ${duty_user}<br>\n**报警事件:** ${annotations}<br>\n**查看事件:** [点击跳转](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})<br>\n{{- else -}}\n&nbsp;**? 报警类型:** ${rule_name}<br>\n**报警指纹:** ${fingerprint}<br>\n**报警等级:** ${severity}<br>\n**报警主机:** ${labels.instance}<br>\n**开始时间:** ${first_trigger_time_format}<br>\n**恢复时间:** ${recover_time_format}<br>\n**值班人员:** ${duty_user}<br>\n**报警事件:** ${annotations}<br>\n**查看事件:** [点击跳转](http://localhost:3000/faultCenter/detail/${faultCenterId}?tab=1&query=${rule_name})<br>\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765367959,'admin'),('nt-d4sm2br9pm8iu6fk0b80','钉钉SSL证书通知模板','DingDing','支持快捷操作按钮的钉钉 ActionCard 消息模板（认领/静默/查看详情）','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统\n{{- else -}}\n【已恢复】- AlertHub 业务系统\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n**报警类型:** ${rule_name}\n\n**报警指纹:** ${fingerprint}\n\n**报警等级:** ${severity}\n\n**开始时间:** ${first_trigger_time_format}\n\n**值班人员:** ${duty_user}\n\n**报警事件:** ${annotations}\n\n**颁发日期:** ${labels.StartTimeFormatted}\n\n**截止日期:** ${labels.ExpireTimeFormatted}\n\n**故障中心:** ${faultCenter.name}\n{{- else -}}\n**报警类型:** ${rule_name}\n\n**报警指纹:** ${fingerprint}\n\n**报警等级:** ${severity}\n\n**开始时间:** ${first_trigger_time_format}\n\n**恢复时间:** ${recover_time_format}\n\n**值班人员:** ${duty_user}\n\n**报警事件:** ${annotations}\n\n**颁发日期:** ${labels.StartTimeFormatted}\n\n**截止日期:** ${labels.ExpireTimeFormatted}\n\n**故障中心:** ${faultCenter.name}\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765368111,'admin'),('nt-d4sm34b9pm8iu6fk0b9g','钉钉快捷操作卡片模版','DingDing','支持快捷操作按钮的钉钉 ActionCard 消息模板（认领/静默/查看详情）','{{- define \"Title\" -}}\n{{- if not .IsRecovered -}}\n【报警中】- AlertHub 业务系统\n{{- else -}}\n【已恢复】- AlertHub 业务系统\n{{- end -}}\n{{- end }}\n\n{{- define \"TitleColor\" -}}\n{{- if not .IsRecovered -}}\nred\n{{- else -}}\ngreen\n{{- end -}}\n{{- end }}\n\n{{ define \"Event\" -}}\n{{- if not .IsRecovered -}}\n**报警类型:** ${rule_name}\n\n**报警指纹:** ${fingerprint}\n\n**报警等级:** ${severity}\n\n**报警主机:** ${labels.instance}\n\n**开始时间:** ${first_trigger_time_format}\n\n**值班人员:** ${duty_user}\n\n**报警事件:** ${annotations}\n\n**故障中心:** ${faultCenter.name}\n{{- else -}}\n**报警类型:** ${rule_name}\n\n**报警指纹:** ${fingerprint}\n\n**报警等级:** ${severity}\n\n**报警主机:** ${labels.instance}\n\n**开始时间:** ${first_trigger_time_format}\n\n**恢复时间:** ${recover_time_format}\n\n**值班人员:** ${duty_user}\n\n**报警事件:** ${annotations}\n\n**故障中心:** ${faultCenter.name}\n{{- end -}}\n{{ end }}\n\n{{- define \"Footer\" -}}\n?‍? WatchAlert - 运维团队\n{{- end }}','','',0,1765368209,'admin');
/*!40000 ALTER TABLE `notice_template_examples` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `rule_groups`
--

DROP TABLE IF EXISTS `rule_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rule_groups` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `name` longtext,
  `number` bigint DEFAULT NULL,
  `description` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `rule_groups`
--

LOCK TABLES `rule_groups` WRITE;
/*!40000 ALTER TABLE `rule_groups` DISABLE KEYS */;
/*!40000 ALTER TABLE `rule_groups` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `rule_template_groups`
--

DROP TABLE IF EXISTS `rule_template_groups`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rule_template_groups` (
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `number` bigint DEFAULT NULL,
  `type` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `rule_template_groups`
--

LOCK TABLES `rule_template_groups` WRITE;
/*!40000 ALTER TABLE `rule_template_groups` DISABLE KEYS */;
INSERT INTO `rule_template_groups` VALUES ('APISIX',0,'Metrics','APISIX指标监控'),('服务日志监控',0,'Logs','服务日志监控'),('Docker',0,'Metrics','Docker容器监控'),('ElasticSearch',0,'Metrics','ElasticSearch资源监控'),('ETCD',0,'Metrics','ETCD'),('Jaeger',0,'Traces','Jaeger链路监控'),('Kafka',0,'Metrics','Kafka监控'),('Kubernetes',0,'Events','Kubernetes事件监控'),('KubernetesMetric',0,'Metrics','Kubernetes指标监控'),('MongoDB',0,'Metrics','MongoDB监控'),('MySQL',0,'Metrics','MySQL资源监控'),('Node节点监控',0,'Metrics','Node服务器监控'),('Redis',0,'Metrics','Redis资源监控'),('RocketMQ',0,'Metrics','RocketMQ监控'),('APISIX',0,'Metrics','APISIX指标监控'),('服务日志监控',0,'Logs','服务日志监控'),('Docker',0,'Metrics','Docker容器监控'),('ElasticSearch',0,'Metrics','ElasticSearch资源监控'),('ETCD',0,'Metrics','ETCD'),('Jaeger',0,'Traces','Jaeger链路监控'),('Kafka',0,'Metrics','Kafka监控'),('Kubernetes',0,'Events','Kubernetes事件监控'),('KubernetesMetric',0,'Metrics','Kubernetes指标监控'),('MongoDB',0,'Metrics','MongoDB监控'),('MySQL',0,'Metrics','MySQL资源监控'),('Node节点监控',0,'Metrics','Node服务器监控'),('Redis',0,'Metrics','Redis资源监控'),('RocketMQ',0,'Metrics','RocketMQ监控'),('APISIX',0,'Metrics','APISIX指标监控'),('服务日志监控',0,'Logs','服务日志监控'),('Docker',0,'Metrics','Docker容器监控'),('ElasticSearch',0,'Metrics','ElasticSearch资源监控'),('ETCD',0,'Metrics','ETCD'),('Jaeger',0,'Traces','Jaeger链路监控'),('Kafka',0,'Metrics','Kafka监控'),('Kubernetes',0,'Events','Kubernetes事件监控'),('KubernetesMetric',0,'Metrics','Kubernetes指标监控'),('MongoDB',0,'Metrics','MongoDB监控'),('MySQL',0,'Metrics','MySQL资源监控'),('Node节点监控',0,'Metrics','Node服务器监控'),('Redis',0,'Metrics','Redis资源监控'),('RocketMQ',0,'Metrics','RocketMQ监控'),('APISIX',0,'Metrics','APISIX指标监控'),('服务日志监控',0,'Logs','服务日志监控'),('Docker',0,'Metrics','Docker容器监控'),('ElasticSearch',0,'Metrics','ElasticSearch资源监控'),('ETCD',0,'Metrics','ETCD'),('Jaeger',0,'Traces','Jaeger链路监控'),('Kafka',0,'Metrics','Kafka监控'),('Kubernetes',0,'Events','Kubernetes事件监控'),('KubernetesMetric',0,'Metrics','Kubernetes指标监控'),('MongoDB',0,'Metrics','MongoDB监控'),('MySQL',0,'Metrics','MySQL资源监控'),('Node节点监控',0,'Metrics','Node服务器监控'),('Redis',0,'Metrics','Redis资源监控'),('RocketMQ',0,'Metrics','RocketMQ监控'),('APISIX',0,'Metrics','APISIX指标监控'),('服务日志监控',0,'Logs','服务日志监控'),('Docker',0,'Metrics','Docker容器监控'),('ElasticSearch',0,'Metrics','ElasticSearch资源监控'),('ETCD',0,'Metrics','ETCD'),('Jaeger',0,'Traces','Jaeger链路监控'),('Kafka',0,'Metrics','Kafka监控'),('Kubernetes',0,'Events','Kubernetes事件监控'),('KubernetesMetric',0,'Metrics','Kubernetes指标监控'),('MongoDB',0,'Metrics','MongoDB监控'),('MySQL',0,'Metrics','MySQL资源监控'),('Node节点监控',0,'Metrics','Node服务器监控'),('Redis',0,'Metrics','Redis资源监控'),('RocketMQ',0,'Metrics','RocketMQ监控');
/*!40000 ALTER TABLE `rule_template_groups` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `rule_templates`
--

DROP TABLE IF EXISTS `rule_templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rule_templates` (
  `type` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `rule_group_name` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `rule_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `datasource_type` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `eval_interval` bigint DEFAULT NULL,
  `for_duration` bigint DEFAULT NULL,
  `repeat_notice_interval` bigint DEFAULT NULL,
  `description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `prometheus_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `ali_cloud_sls_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `loki_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `jaeger_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `kubernetes_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `elastic_search_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `victoria_logs_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `click_house_config` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `rule_templates`
--

LOCK TABLES `rule_templates` WRITE;
/*!40000 ALTER TABLE `rule_templates` DISABLE KEYS */;
INSERT INTO `rule_templates` VALUES ('Metrics','APISIX','APISIX ETCD DB Total Size过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(etcd_mvcc_db_total_size_in_bytes / etcd_server_quota_backend_bytes) * 100\", \"annotations\": \"实例：${labels.instance}，ETCD 数据库过大可能导致查询和写入操作的延迟增加，影响 APISIX 的性能。 数据库过大还可能增加 ETCD 集群的负载，导致资源消耗增加，甚至可能触发 OOM（内存溢出）等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD leader变更频繁','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">5\", \"severity\": \"P0\"}], \"promQL\": \"changes(etcd_server_leader_changes_seen_total{}[1h])\", \"annotations\": \"实例：${labels.instance}，频繁的 leader 变更会导致配置更新延迟和性能下降。 可能引发 ETCD 的可用性问题，从而影响 APISIX 的配置同步和运行稳定性。 可能是由于网络抖动、节点故障或资源瓶颈等问题导致的，需要进一步排查。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD 缺失leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"sum(etcd_server_is_leader{})\", \"annotations\": \"实例：${labels.instance}，当缺少 leader 时，ETCD 集群将无法处理写操作，这会导致 APISIX 无法进行配置更新。 配置无法更新可能导致流量调度、插件配置等关键功能失效，直接影响业务的运行。 这种情况通常是由于 ETCD 集群的严重故障或节点失联导致的，需及时修复。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD连接状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"apisix_etcd_reachable\", \"annotations\": \"实例：${labels.instance}，APISIX 无法从 Etcd 读取或写入配置信息，可能导致路由规则更新失败、服务发现异常等问题，进而影响整个 API 网关的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 每秒请求量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1000\", \"severity\": \"P0\"}], \"promQL\": \"increase(apisix_http_requests_total{}[1m]) / 60\", \"annotations\": \"实例：${labels.instance}，生产环境APISix服务正在经历高请求速率。每秒超过1000个请求。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 活跃连接接近峰值','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">135313\", \"severity\": \"P0\"}], \"promQL\": \"sum(apisix_nginx_http_current_connections{state=\\\"active\\\"})\", \"annotations\": \"实例：${labels.instance}，连接数超过apisix工作节点的worker connections总数后，网关会停止工作，新的请求会被拒绝，导致业务受影响。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker ContainerKilled','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"time() - container_last_seen\", \"annotations\": \"容器：${labels.instance}，被意外杀死，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(rate(container_cpu_usage_seconds_total{container!=\\\"\\\"}[5m])) by (pod, container) / sum(container_spec_cpu_quota{container!=\\\"\\\"}/container_spec_cpu_period{container!=\\\"\\\"}) by (pod, container) * 100)\", \"annotations\": \"容器：${labels.instance}，CPU使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(container_memory_working_set_bytes{name!=\\\"\\\"}) BY (instance, name) / sum(container_spec_memory_limit_bytes > 0) BY (instance, name) * 100)\", \"annotations\": \"容器：${labels.instance}，内存使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器存储使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(1 - (sum(container_fs_inodes_free{name!=\\\"\\\"}) BY (instance) / sum(container_fs_inodes_total) BY (instance))) * 100\", \"annotations\": \"容器：${labels.instance}，存储使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES慢查询告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.2\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_time_seconds[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，慢查询占用较多计算和存储资源，可能导致其他查询任务响应变慢，影响系统的整体性能。 频繁的慢查询会增加 Elasticsearch 集群的负载，导致 CPU、内存和磁盘 I/O 的压力增大，甚至导致集群不稳定。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(elasticsearch_process_cpu_percent{})\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高 CPU 使用率可能是由于高查询或写入负载、复杂的查询操作、数据压缩或解压引起的，可能导致节点性能下降、响应时间变长，甚至引发故障。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点堆内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((elasticsearch_jvm_memory_used_bytes{area=\\\"heap\\\"} / elasticsearch_jvm_memory_max_bytes{area=\\\"heap\\\"}) * 100 ) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，内存使用率过高可能导致频繁的垃圾回收 (GC)，增加延迟，甚至导致“out of memory” (OOM) 错误，使节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_node_stats_up\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，节点状态不等于1可能是节点出现down机的情况，会影响到整个集群的稳定性。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((100 - (elasticsearch_filesystem_data_available_bytes{}/elasticsearch_filesystem_data_size_bytes{} * 100)) * 100 ) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，磁盘空间不足会导致分片无法写入或重新分配，影响集群的正常运行，可能导致集群进入黄色或红色状态。超过 90% 时，集群可能会停止写入。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群写入QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_indexing_index_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，写入 QPS 过高可能导致写入延迟增加、集群性能下降，甚至引发写入失败。大量写入请求可能导致分片分配不均、节点负载过高等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群查询QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，查询 QPS 过高可能导致查询延迟增加、响应时间变长，影响查询性能。集群的查询负载增加，可能造成节点资源紧张。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为红色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"red\\\"}\", \"annotations\": \"实例：${labels.instance}，红色状态表示集群中有主分片和副本分片不可用，数据丢失或无法访问。此时，部分或全部数据不可用，可能影响业务的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为黄色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"yellow\\\"}\", \"annotations\": \"实例：${labels.instance}，黄色状态表示集群中的主分片可用，但副本分片有问题，通常是由于资源不足、分片分配失败等原因。虽然数据可以读取，但副本的不可用会降低数据冗余性和容灾能力。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 GRPC 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(grpc_server_handled_total{grpc_code!=\\\"OK\\\"}[1m])) BY (grpc_service, grpc_method) / sum(rate(grpc_server_handled_total[1m])) BY (grpc_service, grpc_method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 GRPC 请求失败，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 HTTP 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(etcd_http_failed_total[1m])) BY (method) / sum(rate(etcd_http_received_total[1m])) BY (method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 HTTP 故障，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd成员不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"count(etcd_server_id) % 2\", \"annotations\": \"Etcd 集群应具有奇数个成员，当前成员个数：${labels.value}\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd无Leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"etcd_server_has_leader\", \"annotations\": \"Etcd 集群没有领导者\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd频繁发生领导者变更','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">2\", \"severity\": \"P0\"}], \"promQL\": \"increase(etcd_server_leader_changes_seen_total[10m])\", \"annotations\": \"Etcd 领导者在 10 分钟内变更超过 2 次。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic偏移量过低','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"< 1\", \"severity\": \"P0\"}], \"promQL\": \"rate(kafka_topic_partition_current_offset{topic!=\\\"\\\"}[2m])\", \"annotations\": \"Kafka集群偏移量异常，当前：${labels.value}。可能存在数据异常问题，请观察!\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic副本丢失','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"count(kafka_topic_partition_under_replicated_partition{topic!=\\\"\\\",partition=\\\"0\\\"}==0) by(topic,job)\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个副本。当一个分区的某个副本所在的 broker 宕机、网络不可达、数据损坏或由于其他原因导致副本不可用时，就会发生副本丢失。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','Kafka节点离线告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"kafka_brokers\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个节点。Kafka 集群中的某个节点下线，可能会导致部分分区数据无法读取或写入，并可能导致消费者或生产者请求失败。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','KubernetesAPI 服务器延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{verb!~\\\"(?:CONNECT|WATCHLIST|WATCH|PROXY)\\\"} [10m])) WITHOUT (subresource))\", \"annotations\": \"Kubernetes API 服务器对于 ${labels.verb} ${labels.resource} 的第 99 个百分位延迟为 ${labels.value} 秒。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取外部指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetExternalMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取资源指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetResourceMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA调整副本数失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedRescale\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode内存压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderMemoryPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode磁盘压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderDiskPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode节点不可用','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeNotReady\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod不健康','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Unhealthy\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod反覆崩溃','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"CrashLoopBackOff\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod启动失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Failed\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod挂载卷失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedMount\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod调度失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedScheduling\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod超出运行期限','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"DeadlineExceeded\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod附加卷到节点失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedAttachVolume\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPV/PVC绑定失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedBinding\", \"resource\": \"PVC/PV\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes客户端证书下周到期','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<604800\", \"severity\": \"P0\"}], \"promQL\": \"apiserver_client_certificate_expiration_seconds_count{job=\\\"apiserver\\\"} > 0 and histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job=\\\"apiserver\\\"}[5m])))\", \"annotations\": \"K8s集群证书下周到期，请立即处理。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点网络不可用','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"kube_node_status_condition{condition=\\\"NetworkUnavailable\\\",status=\\\"true\\\"}\", \"annotations\": \"节点 ${labels.instance}，存在 NetworkUnavailable 情况\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点超出 pod 容量','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">110\", \"severity\": \"P0\"}], \"promQL\": \"sum by (node) ((kube_pod_status_phase{phase=\\\"Running\\\"} == 1) + on(uid, instance) group_left(node) (0 * kube_pod_info{pod_template_hash=\\\"\\\"})) / sum by (node) (kube_node_status_allocatable{resource=\\\"pods\\\"}) * 100\", \"annotations\": \"节点 ${labels.instance}，超出 pod 容量\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员复制存在延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">10\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_optime_date{state=\\\"PRIMARY\\\"} - on (set) group_right mongodb_mongod_replset_member_optime_date{state=\\\"SECONDARY\\\"}\", \"annotations\": \"MongoDB实例：${labels.instance} ，复制延迟过高，当前：${labels.value}。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_health\", \"annotations\": \"实例：${labels.instance} 不健康，如果副本集中有节点健康状态异常，可能会导致数据同步延迟、读写操作失败，甚至可能引发服务不可用的问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB节点宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_up\", \"annotations\": \"MongoDB实例：${labels.instance} ，节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"round((max(mongodb_connections{state=\\\"current\\\"}) by (instance,job) / sum(mongodb_connections{state=~\\\"current|available\\\"}) by (instance,job) * 100) * 100) / 100\", \"annotations\": \"实例：${labels.instance} 连接数过多，当连接数达到上限时，新的客户端连接请求将被拒绝，进而影响应用程序的正常运行，可能引发严重的系统不可用问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL存在慢查询','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(mysql_global_status_slow_queries[1m])\", \"annotations\": \"MySQL实例：${labels.instance}，存在慢查询，当前条数：${labels.value}。慢查询通常表明数据库中存在未优化的 SQL 操作，可能导致查询性能下降，影响整体响应时间。需要通过优化查询语句、添加索引、调整表结构或优化数据库配置来解决慢查询问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mysql_up\", \"annotations\": \"MySQL实例：${labels.instance}，意外宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL实例发生重启','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<60\", \"severity\": \"P0\"}], \"promQL\": \"mysql_global_status_uptime\", \"annotations\": \"MySQL实例：${labels.instance}，发生重启。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_connected[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"MySQL实例：${labels.instance}，连接数过多，当前：${labels.value}。连接数接近上限意味着数据库负载很高，可能导致连接请求被拒绝，影响业务操作。 连接数耗尽时，新请求会被拒绝，导致数据库不可用。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL高线程运行','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_running[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高线程数可能导致数据库负载增加，需要检查数据库的并发操作、慢查询、事务等待等问题，优化线程池配置和查询效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((sum(rate(container_cpu_usage_seconds_total{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}[5m])) by (namespace,pod,container) / sum(kube_pod_container_resource_limits{namespace=\\\"kube-system\\\",resource=\\\"cpu\\\"}) by (container,namespace,pod) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\nCPU使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod 内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((avg by (namespace,pod,container) (container_memory_usage_bytes{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}) / avg by (namespace,pod,container) (container_spec_memory_limit_bytes{namespace=\\\"kube-system\\\",container!=\\\"\\\"})) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\n内存使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis主节点过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"count(redis_instance_info{role=\\\"master\\\"})\", \"annotations\": \"Redis实例：${labels.instance}，集群中有太多节点标记为主节点。！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis实例宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"redis_up\", \"annotations\": \"Redis实例：${labels.instance}，发生宕机，请跟进排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis拒绝连接','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(redis_rejected_connections_total[1m])\", \"annotations\": \"Redis实例：${labels.instance}，一些与 Redis 的连接已被拒绝。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis系统内存不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_memory_used_bytes / redis_total_system_memory_bytes * 100\", \"annotations\": \"Redis实例：${labels.instance}，系统内存不足（> 80％），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis缺少主节点','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<1\", \"severity\": \"P0\"}], \"promQL\": \"(count(redis_instance_info{role=\\\"master\\\"}) or vector(0))\", \"annotations\": \"Redis实例：${labels.instance}，集群没有标记为主节点！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_connected_clients / redis_config_maxclients * 100\", \"annotations\": \"Redis实例：${labels.instance}，连接数不足（使用率 > 90%），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内QPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_qps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，QPS 的突然增长通常意味着突发的业务流量或异常的请求量。 如果增长过快且超出系统处理能力，可能会导致请求积压，响应时间增加，甚至服务不可用。 持续的高 QPS 可能导致资源耗尽，如 CPU、内存和 I/O 负载增高。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内TPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_tps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，TPS 的快速增长通常意味着大量的消息发送或消费请求。这可能导致 Broker 的压力增加。 当 TPS 增长过快时，Broker 可能面临资源瓶颈（例如内存、CPU、磁盘 I/O），导致处理效率下降。 突增的 TPS 可能由于异常业务流量或系统故障，需进一步排查原因。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"sum(rocketmq_brokeruntime_commitlog_disk_ratio) by (brokerIP) * 100\", \"annotations\": \"实例：${labels.instance}，磁盘空间不足可能导致消息无法写入，导致消息积压，甚至服务中断。 当磁盘使用率过高时，文件系统性能也可能下降，影响读写效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Traces','Jaeger','Trace链路存在异常状态码','Jaeger',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"%7B\\\"http.status_code\\\"%3A\\\"5.%2A%3F\\\"%7D\", \"scope\": 10, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','接口耗时大于300ms','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"{app=\\\"apisix\\\"} !~ `socket.io` | json | upstream_response_time > 0.3 | upstream_response_time != \\\"\\\"\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「占比超过1%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(count_over_time({namespace=\\\"prod\\\"} |~ `ERROR`[10m])) / sum(count_over_time({namespace=\\\"prod\\\"}[10m])) * 100 > 1\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「增长率超过2%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(rate({namespace=\\\"prod\\\"} |~ `level` |~ `ERROR`[5m])) by (app) > 2\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器CPU使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (avg(irate(node_cpu_seconds_total{mode=\\\"idle\\\",}[5m])) by (instance) * 100))\", \"annotations\": \"节点：${labels.instance}，CPU使用率过高，当前：${labels.value}%，高 CPU 使用率意味着服务器可能接近处理能力上限，影响性能，导致应用程序响应变慢或服务中断！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器TCP连接数监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">500\", \"severity\": \"P0\"}], \"promQL\": \"sum(label_replace(max(node_sockstat_TCP_alloc{}) by (instance),\\\"host_ip\\\",\\\"$1\\\",\\\"instance\\\",\\\"(.*):.*\\\"))by(instance)\", \"annotations\": \"节点：${labels.instance}，TCP连接数过高，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器入网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_transmit_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能接收了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器内存使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (node_memory_MemAvailable_bytes{} / node_memory_MemTotal_bytes{} * 100))\", \"annotations\": \"节点：${labels.instance}，内存使用率过高，当前：${labels.value}%，内存紧张可能导致系统频繁进行内存交换（swap），进而引起性能下降。如果内存耗尽，应用程序可能崩溃或无法分配更多资源。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器出网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_receive_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能发送了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器文件系统设备错误','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"node_filesystem_device_error\", \"annotations\": \"节点：${labels.instance}，${labels.mountpoint} 文件系统出现设备错误，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器时钟偏差','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">=0\", \"severity\": \"P0\"}], \"promQL\": \"((node_timex_offset_seconds > 0.05 and deriv(node_timex_offset_seconds[5m]) >= 0) or (node_timex_offset_seconds < -0.05 and deriv(node_timex_offset_seconds[5m]) <= 0)) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，检测到时钟偏差，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"up{}\", \"annotations\": \"实例：${labels.instance}，节点状态可能是exporter运行状态异常，也能是服务器宕机，当此告警发生后，需要进一步排查来确保节点的状态。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO写流量过大','Prometheus',10,0,0,'','{\"promQL\":\"(sum by (instance) (rate(node_disk_written_bytes_total[2m])) / 1024 / 1024 \\u003e 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\",\"annotations\":\"节点：${labels.instance}，磁盘可能写入了太多数据 (\\u003e 100 MB/s)，当前：${labels.value}%，请尽快处理！\",\"rules\":[{\"forDuration\":0,\"severity\":\"P0\",\"expr\":\"\\u003e100\"}]}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO读流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_read_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，磁盘可能读取了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">85\", \"severity\": \"P0\"}, {\"expr\": \">80\", \"severity\": \"P1\"}, {\"expr\": \">75\", \"severity\": \"P2\"}], \"promQL\": \"round(max((node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",}) *100/(node_filesystem_avail_bytes {fstype=~\\\"ext.?|xfs\\\",}+(node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",})))by(ecs_cname,instance))\", \"annotations\": \"节点：${labels.instance}，磁盘使用率过高，当前：${labels.value}%，磁盘空间不足会导致文件无法写入、新日志无法记录，甚至可能使服务无法正常运行。尤其在数据增长迅速的系统中，这需要重点监控。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD DB Total Size过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(etcd_mvcc_db_total_size_in_bytes / etcd_server_quota_backend_bytes) * 100\", \"annotations\": \"实例：${labels.instance}，ETCD 数据库过大可能导致查询和写入操作的延迟增加，影响 APISIX 的性能。 数据库过大还可能增加 ETCD 集群的负载，导致资源消耗增加，甚至可能触发 OOM（内存溢出）等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD leader变更频繁','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">5\", \"severity\": \"P0\"}], \"promQL\": \"changes(etcd_server_leader_changes_seen_total{}[1h])\", \"annotations\": \"实例：${labels.instance}，频繁的 leader 变更会导致配置更新延迟和性能下降。 可能引发 ETCD 的可用性问题，从而影响 APISIX 的配置同步和运行稳定性。 可能是由于网络抖动、节点故障或资源瓶颈等问题导致的，需要进一步排查。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD 缺失leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"sum(etcd_server_is_leader{})\", \"annotations\": \"实例：${labels.instance}，当缺少 leader 时，ETCD 集群将无法处理写操作，这会导致 APISIX 无法进行配置更新。 配置无法更新可能导致流量调度、插件配置等关键功能失效，直接影响业务的运行。 这种情况通常是由于 ETCD 集群的严重故障或节点失联导致的，需及时修复。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD连接状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"apisix_etcd_reachable\", \"annotations\": \"实例：${labels.instance}，APISIX 无法从 Etcd 读取或写入配置信息，可能导致路由规则更新失败、服务发现异常等问题，进而影响整个 API 网关的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 每秒请求量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1000\", \"severity\": \"P0\"}], \"promQL\": \"increase(apisix_http_requests_total{}[1m]) / 60\", \"annotations\": \"实例：${labels.instance}，生产环境APISix服务正在经历高请求速率。每秒超过1000个请求。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 活跃连接接近峰值','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">135313\", \"severity\": \"P0\"}], \"promQL\": \"sum(apisix_nginx_http_current_connections{state=\\\"active\\\"})\", \"annotations\": \"实例：${labels.instance}，连接数超过apisix工作节点的worker connections总数后，网关会停止工作，新的请求会被拒绝，导致业务受影响。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker ContainerKilled','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"time() - container_last_seen\", \"annotations\": \"容器：${labels.instance}，被意外杀死，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(rate(container_cpu_usage_seconds_total{container!=\\\"\\\"}[5m])) by (pod, container) / sum(container_spec_cpu_quota{container!=\\\"\\\"}/container_spec_cpu_period{container!=\\\"\\\"}) by (pod, container) * 100)\", \"annotations\": \"容器：${labels.instance}，CPU使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(container_memory_working_set_bytes{name!=\\\"\\\"}) BY (instance, name) / sum(container_spec_memory_limit_bytes > 0) BY (instance, name) * 100)\", \"annotations\": \"容器：${labels.instance}，内存使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器存储使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(1 - (sum(container_fs_inodes_free{name!=\\\"\\\"}) BY (instance) / sum(container_fs_inodes_total) BY (instance))) * 100\", \"annotations\": \"容器：${labels.instance}，存储使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES慢查询告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.2\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_time_seconds[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，慢查询占用较多计算和存储资源，可能导致其他查询任务响应变慢，影响系统的整体性能。 频繁的慢查询会增加 Elasticsearch 集群的负载，导致 CPU、内存和磁盘 I/O 的压力增大，甚至导致集群不稳定。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(elasticsearch_process_cpu_percent{})\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高 CPU 使用率可能是由于高查询或写入负载、复杂的查询操作、数据压缩或解压引起的，可能导致节点性能下降、响应时间变长，甚至引发故障。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点堆内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((elasticsearch_jvm_memory_used_bytes{area=\\\"heap\\\"} / elasticsearch_jvm_memory_max_bytes{area=\\\"heap\\\"}) * 100 ) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，内存使用率过高可能导致频繁的垃圾回收 (GC)，增加延迟，甚至导致“out of memory” (OOM) 错误，使节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_node_stats_up\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，节点状态不等于1可能是节点出现down机的情况，会影响到整个集群的稳定性。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((100 - (elasticsearch_filesystem_data_available_bytes{}/elasticsearch_filesystem_data_size_bytes{} * 100)) * 100 ) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，磁盘空间不足会导致分片无法写入或重新分配，影响集群的正常运行，可能导致集群进入黄色或红色状态。超过 90% 时，集群可能会停止写入。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群写入QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_indexing_index_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，写入 QPS 过高可能导致写入延迟增加、集群性能下降，甚至引发写入失败。大量写入请求可能导致分片分配不均、节点负载过高等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群查询QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，查询 QPS 过高可能导致查询延迟增加、响应时间变长，影响查询性能。集群的查询负载增加，可能造成节点资源紧张。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为红色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"red\\\"}\", \"annotations\": \"实例：${labels.instance}，红色状态表示集群中有主分片和副本分片不可用，数据丢失或无法访问。此时，部分或全部数据不可用，可能影响业务的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为黄色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"yellow\\\"}\", \"annotations\": \"实例：${labels.instance}，黄色状态表示集群中的主分片可用，但副本分片有问题，通常是由于资源不足、分片分配失败等原因。虽然数据可以读取，但副本的不可用会降低数据冗余性和容灾能力。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 GRPC 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(grpc_server_handled_total{grpc_code!=\\\"OK\\\"}[1m])) BY (grpc_service, grpc_method) / sum(rate(grpc_server_handled_total[1m])) BY (grpc_service, grpc_method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 GRPC 请求失败，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 HTTP 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(etcd_http_failed_total[1m])) BY (method) / sum(rate(etcd_http_received_total[1m])) BY (method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 HTTP 故障，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd成员不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"count(etcd_server_id) % 2\", \"annotations\": \"Etcd 集群应具有奇数个成员，当前成员个数：${labels.value}\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd无Leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"etcd_server_has_leader\", \"annotations\": \"Etcd 集群没有领导者\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd频繁发生领导者变更','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">2\", \"severity\": \"P0\"}], \"promQL\": \"increase(etcd_server_leader_changes_seen_total[10m])\", \"annotations\": \"Etcd 领导者在 10 分钟内变更超过 2 次。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic偏移量过低','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"< 1\", \"severity\": \"P0\"}], \"promQL\": \"rate(kafka_topic_partition_current_offset{topic!=\\\"\\\"}[2m])\", \"annotations\": \"Kafka集群偏移量异常，当前：${labels.value}。可能存在数据异常问题，请观察!\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic副本丢失','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"count(kafka_topic_partition_under_replicated_partition{topic!=\\\"\\\",partition=\\\"0\\\"}==0) by(topic,job)\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个副本。当一个分区的某个副本所在的 broker 宕机、网络不可达、数据损坏或由于其他原因导致副本不可用时，就会发生副本丢失。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','Kafka节点离线告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"kafka_brokers\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个节点。Kafka 集群中的某个节点下线，可能会导致部分分区数据无法读取或写入，并可能导致消费者或生产者请求失败。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','KubernetesAPI 服务器延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{verb!~\\\"(?:CONNECT|WATCHLIST|WATCH|PROXY)\\\"} [10m])) WITHOUT (subresource))\", \"annotations\": \"Kubernetes API 服务器对于 ${labels.verb} ${labels.resource} 的第 99 个百分位延迟为 ${labels.value} 秒。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取外部指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetExternalMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取资源指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetResourceMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA调整副本数失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedRescale\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode内存压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderMemoryPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode磁盘压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderDiskPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode节点不可用','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeNotReady\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod不健康','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Unhealthy\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod反覆崩溃','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"CrashLoopBackOff\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod启动失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Failed\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod挂载卷失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedMount\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod调度失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedScheduling\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod超出运行期限','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"DeadlineExceeded\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod附加卷到节点失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedAttachVolume\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPV/PVC绑定失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedBinding\", \"resource\": \"PVC/PV\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes客户端证书下周到期','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<604800\", \"severity\": \"P0\"}], \"promQL\": \"apiserver_client_certificate_expiration_seconds_count{job=\\\"apiserver\\\"} > 0 and histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job=\\\"apiserver\\\"}[5m])))\", \"annotations\": \"K8s集群证书下周到期，请立即处理。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点网络不可用','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"kube_node_status_condition{condition=\\\"NetworkUnavailable\\\",status=\\\"true\\\"}\", \"annotations\": \"节点 ${labels.instance}，存在 NetworkUnavailable 情况\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点超出 pod 容量','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">110\", \"severity\": \"P0\"}], \"promQL\": \"sum by (node) ((kube_pod_status_phase{phase=\\\"Running\\\"} == 1) + on(uid, instance) group_left(node) (0 * kube_pod_info{pod_template_hash=\\\"\\\"})) / sum by (node) (kube_node_status_allocatable{resource=\\\"pods\\\"}) * 100\", \"annotations\": \"节点 ${labels.instance}，超出 pod 容量\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员复制存在延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">10\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_optime_date{state=\\\"PRIMARY\\\"} - on (set) group_right mongodb_mongod_replset_member_optime_date{state=\\\"SECONDARY\\\"}\", \"annotations\": \"MongoDB实例：${labels.instance} ，复制延迟过高，当前：${labels.value}。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_health\", \"annotations\": \"实例：${labels.instance} 不健康，如果副本集中有节点健康状态异常，可能会导致数据同步延迟、读写操作失败，甚至可能引发服务不可用的问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB节点宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_up\", \"annotations\": \"MongoDB实例：${labels.instance} ，节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"round((max(mongodb_connections{state=\\\"current\\\"}) by (instance,job) / sum(mongodb_connections{state=~\\\"current|available\\\"}) by (instance,job) * 100) * 100) / 100\", \"annotations\": \"实例：${labels.instance} 连接数过多，当连接数达到上限时，新的客户端连接请求将被拒绝，进而影响应用程序的正常运行，可能引发严重的系统不可用问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL存在慢查询','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(mysql_global_status_slow_queries[1m])\", \"annotations\": \"MySQL实例：${labels.instance}，存在慢查询，当前条数：${labels.value}。慢查询通常表明数据库中存在未优化的 SQL 操作，可能导致查询性能下降，影响整体响应时间。需要通过优化查询语句、添加索引、调整表结构或优化数据库配置来解决慢查询问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mysql_up\", \"annotations\": \"MySQL实例：${labels.instance}，意外宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL实例发生重启','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<60\", \"severity\": \"P0\"}], \"promQL\": \"mysql_global_status_uptime\", \"annotations\": \"MySQL实例：${labels.instance}，发生重启。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_connected[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"MySQL实例：${labels.instance}，连接数过多，当前：${labels.value}。连接数接近上限意味着数据库负载很高，可能导致连接请求被拒绝，影响业务操作。 连接数耗尽时，新请求会被拒绝，导致数据库不可用。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL高线程运行','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_running[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高线程数可能导致数据库负载增加，需要检查数据库的并发操作、慢查询、事务等待等问题，优化线程池配置和查询效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((sum(rate(container_cpu_usage_seconds_total{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}[5m])) by (namespace,pod,container) / sum(kube_pod_container_resource_limits{namespace=\\\"kube-system\\\",resource=\\\"cpu\\\"}) by (container,namespace,pod) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\nCPU使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod 内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((avg by (namespace,pod,container) (container_memory_usage_bytes{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}) / avg by (namespace,pod,container) (container_spec_memory_limit_bytes{namespace=\\\"kube-system\\\",container!=\\\"\\\"})) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\n内存使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis主节点过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"count(redis_instance_info{role=\\\"master\\\"})\", \"annotations\": \"Redis实例：${labels.instance}，集群中有太多节点标记为主节点。！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis实例宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"redis_up\", \"annotations\": \"Redis实例：${labels.instance}，发生宕机，请跟进排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis拒绝连接','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(redis_rejected_connections_total[1m])\", \"annotations\": \"Redis实例：${labels.instance}，一些与 Redis 的连接已被拒绝。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis系统内存不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_memory_used_bytes / redis_total_system_memory_bytes * 100\", \"annotations\": \"Redis实例：${labels.instance}，系统内存不足（> 80％），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis缺少主节点','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<1\", \"severity\": \"P0\"}], \"promQL\": \"(count(redis_instance_info{role=\\\"master\\\"}) or vector(0))\", \"annotations\": \"Redis实例：${labels.instance}，集群没有标记为主节点！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_connected_clients / redis_config_maxclients * 100\", \"annotations\": \"Redis实例：${labels.instance}，连接数不足（使用率 > 90%），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内QPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_qps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，QPS 的突然增长通常意味着突发的业务流量或异常的请求量。 如果增长过快且超出系统处理能力，可能会导致请求积压，响应时间增加，甚至服务不可用。 持续的高 QPS 可能导致资源耗尽，如 CPU、内存和 I/O 负载增高。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内TPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_tps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，TPS 的快速增长通常意味着大量的消息发送或消费请求。这可能导致 Broker 的压力增加。 当 TPS 增长过快时，Broker 可能面临资源瓶颈（例如内存、CPU、磁盘 I/O），导致处理效率下降。 突增的 TPS 可能由于异常业务流量或系统故障，需进一步排查原因。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"sum(rocketmq_brokeruntime_commitlog_disk_ratio) by (brokerIP) * 100\", \"annotations\": \"实例：${labels.instance}，磁盘空间不足可能导致消息无法写入，导致消息积压，甚至服务中断。 当磁盘使用率过高时，文件系统性能也可能下降，影响读写效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Traces','Jaeger','Trace链路存在异常状态码','Jaeger',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"%7B\\\"http.status_code\\\"%3A\\\"5.%2A%3F\\\"%7D\", \"scope\": 10, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','接口耗时大于300ms','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"{app=\\\"apisix\\\"} !~ `socket.io` | json | upstream_response_time > 0.3 | upstream_response_time != \\\"\\\"\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「占比超过1%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(count_over_time({namespace=\\\"prod\\\"} |~ `ERROR`[10m])) / sum(count_over_time({namespace=\\\"prod\\\"}[10m])) * 100 > 1\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「增长率超过2%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(rate({namespace=\\\"prod\\\"} |~ `level` |~ `ERROR`[5m])) by (app) > 2\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器CPU使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (avg(irate(node_cpu_seconds_total{mode=\\\"idle\\\",}[5m])) by (instance) * 100))\", \"annotations\": \"节点：${labels.instance}，CPU使用率过高，当前：${labels.value}%，高 CPU 使用率意味着服务器可能接近处理能力上限，影响性能，导致应用程序响应变慢或服务中断！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器TCP连接数监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">500\", \"severity\": \"P0\"}], \"promQL\": \"sum(label_replace(max(node_sockstat_TCP_alloc{}) by (instance),\\\"host_ip\\\",\\\"$1\\\",\\\"instance\\\",\\\"(.*):.*\\\"))by(instance)\", \"annotations\": \"节点：${labels.instance}，TCP连接数过高，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器入网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_transmit_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能接收了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器内存使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (node_memory_MemAvailable_bytes{} / node_memory_MemTotal_bytes{} * 100))\", \"annotations\": \"节点：${labels.instance}，内存使用率过高，当前：${labels.value}%，内存紧张可能导致系统频繁进行内存交换（swap），进而引起性能下降。如果内存耗尽，应用程序可能崩溃或无法分配更多资源。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器出网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_receive_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能发送了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器文件系统设备错误','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"node_filesystem_device_error\", \"annotations\": \"节点：${labels.instance}，${labels.mountpoint} 文件系统出现设备错误，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器时钟偏差','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">=0\", \"severity\": \"P0\"}], \"promQL\": \"((node_timex_offset_seconds > 0.05 and deriv(node_timex_offset_seconds[5m]) >= 0) or (node_timex_offset_seconds < -0.05 and deriv(node_timex_offset_seconds[5m]) <= 0)) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，检测到时钟偏差，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"up{}\", \"annotations\": \"实例：${labels.instance}，节点状态可能是exporter运行状态异常，也能是服务器宕机，当此告警发生后，需要进一步排查来确保节点的状态。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO写流量过大','Prometheus',10,0,0,'','{\"promQL\":\"(sum by (instance) (rate(node_disk_written_bytes_total[2m])) / 1024 / 1024 \\u003e 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\",\"annotations\":\"节点：${labels.instance}，磁盘可能写入了太多数据 (\\u003e 100 MB/s)，当前：${labels.value}%，请尽快处理！\",\"rules\":[{\"forDuration\":0,\"severity\":\"P0\",\"expr\":\"\\u003e100\"}]}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO读流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_read_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，磁盘可能读取了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">85\", \"severity\": \"P0\"}, {\"expr\": \">80\", \"severity\": \"P1\"}, {\"expr\": \">75\", \"severity\": \"P2\"}], \"promQL\": \"round(max((node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",}) *100/(node_filesystem_avail_bytes {fstype=~\\\"ext.?|xfs\\\",}+(node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",})))by(ecs_cname,instance))\", \"annotations\": \"节点：${labels.instance}，磁盘使用率过高，当前：${labels.value}%，磁盘空间不足会导致文件无法写入、新日志无法记录，甚至可能使服务无法正常运行。尤其在数据增长迅速的系统中，这需要重点监控。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD DB Total Size过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(etcd_mvcc_db_total_size_in_bytes / etcd_server_quota_backend_bytes) * 100\", \"annotations\": \"实例：${labels.instance}，ETCD 数据库过大可能导致查询和写入操作的延迟增加，影响 APISIX 的性能。 数据库过大还可能增加 ETCD 集群的负载，导致资源消耗增加，甚至可能触发 OOM（内存溢出）等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD leader变更频繁','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">5\", \"severity\": \"P0\"}], \"promQL\": \"changes(etcd_server_leader_changes_seen_total{}[1h])\", \"annotations\": \"实例：${labels.instance}，频繁的 leader 变更会导致配置更新延迟和性能下降。 可能引发 ETCD 的可用性问题，从而影响 APISIX 的配置同步和运行稳定性。 可能是由于网络抖动、节点故障或资源瓶颈等问题导致的，需要进一步排查。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD 缺失leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"sum(etcd_server_is_leader{})\", \"annotations\": \"实例：${labels.instance}，当缺少 leader 时，ETCD 集群将无法处理写操作，这会导致 APISIX 无法进行配置更新。 配置无法更新可能导致流量调度、插件配置等关键功能失效，直接影响业务的运行。 这种情况通常是由于 ETCD 集群的严重故障或节点失联导致的，需及时修复。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD连接状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"apisix_etcd_reachable\", \"annotations\": \"实例：${labels.instance}，APISIX 无法从 Etcd 读取或写入配置信息，可能导致路由规则更新失败、服务发现异常等问题，进而影响整个 API 网关的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 每秒请求量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1000\", \"severity\": \"P0\"}], \"promQL\": \"increase(apisix_http_requests_total{}[1m]) / 60\", \"annotations\": \"实例：${labels.instance}，生产环境APISix服务正在经历高请求速率。每秒超过1000个请求。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 活跃连接接近峰值','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">135313\", \"severity\": \"P0\"}], \"promQL\": \"sum(apisix_nginx_http_current_connections{state=\\\"active\\\"})\", \"annotations\": \"实例：${labels.instance}，连接数超过apisix工作节点的worker connections总数后，网关会停止工作，新的请求会被拒绝，导致业务受影响。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker ContainerKilled','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"time() - container_last_seen\", \"annotations\": \"容器：${labels.instance}，被意外杀死，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(rate(container_cpu_usage_seconds_total{container!=\\\"\\\"}[5m])) by (pod, container) / sum(container_spec_cpu_quota{container!=\\\"\\\"}/container_spec_cpu_period{container!=\\\"\\\"}) by (pod, container) * 100)\", \"annotations\": \"容器：${labels.instance}，CPU使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(container_memory_working_set_bytes{name!=\\\"\\\"}) BY (instance, name) / sum(container_spec_memory_limit_bytes > 0) BY (instance, name) * 100)\", \"annotations\": \"容器：${labels.instance}，内存使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器存储使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(1 - (sum(container_fs_inodes_free{name!=\\\"\\\"}) BY (instance) / sum(container_fs_inodes_total) BY (instance))) * 100\", \"annotations\": \"容器：${labels.instance}，存储使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES慢查询告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.2\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_time_seconds[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，慢查询占用较多计算和存储资源，可能导致其他查询任务响应变慢，影响系统的整体性能。 频繁的慢查询会增加 Elasticsearch 集群的负载，导致 CPU、内存和磁盘 I/O 的压力增大，甚至导致集群不稳定。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(elasticsearch_process_cpu_percent{})\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高 CPU 使用率可能是由于高查询或写入负载、复杂的查询操作、数据压缩或解压引起的，可能导致节点性能下降、响应时间变长，甚至引发故障。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点堆内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((elasticsearch_jvm_memory_used_bytes{area=\\\"heap\\\"} / elasticsearch_jvm_memory_max_bytes{area=\\\"heap\\\"}) * 100 ) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，内存使用率过高可能导致频繁的垃圾回收 (GC)，增加延迟，甚至导致“out of memory” (OOM) 错误，使节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_node_stats_up\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，节点状态不等于1可能是节点出现down机的情况，会影响到整个集群的稳定性。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((100 - (elasticsearch_filesystem_data_available_bytes{}/elasticsearch_filesystem_data_size_bytes{} * 100)) * 100 ) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，磁盘空间不足会导致分片无法写入或重新分配，影响集群的正常运行，可能导致集群进入黄色或红色状态。超过 90% 时，集群可能会停止写入。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群写入QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_indexing_index_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，写入 QPS 过高可能导致写入延迟增加、集群性能下降，甚至引发写入失败。大量写入请求可能导致分片分配不均、节点负载过高等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群查询QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，查询 QPS 过高可能导致查询延迟增加、响应时间变长，影响查询性能。集群的查询负载增加，可能造成节点资源紧张。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为红色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"red\\\"}\", \"annotations\": \"实例：${labels.instance}，红色状态表示集群中有主分片和副本分片不可用，数据丢失或无法访问。此时，部分或全部数据不可用，可能影响业务的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为黄色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"yellow\\\"}\", \"annotations\": \"实例：${labels.instance}，黄色状态表示集群中的主分片可用，但副本分片有问题，通常是由于资源不足、分片分配失败等原因。虽然数据可以读取，但副本的不可用会降低数据冗余性和容灾能力。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 GRPC 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(grpc_server_handled_total{grpc_code!=\\\"OK\\\"}[1m])) BY (grpc_service, grpc_method) / sum(rate(grpc_server_handled_total[1m])) BY (grpc_service, grpc_method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 GRPC 请求失败，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 HTTP 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(etcd_http_failed_total[1m])) BY (method) / sum(rate(etcd_http_received_total[1m])) BY (method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 HTTP 故障，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd成员不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"count(etcd_server_id) % 2\", \"annotations\": \"Etcd 集群应具有奇数个成员，当前成员个数：${labels.value}\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd无Leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"etcd_server_has_leader\", \"annotations\": \"Etcd 集群没有领导者\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd频繁发生领导者变更','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">2\", \"severity\": \"P0\"}], \"promQL\": \"increase(etcd_server_leader_changes_seen_total[10m])\", \"annotations\": \"Etcd 领导者在 10 分钟内变更超过 2 次。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic偏移量过低','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"< 1\", \"severity\": \"P0\"}], \"promQL\": \"rate(kafka_topic_partition_current_offset{topic!=\\\"\\\"}[2m])\", \"annotations\": \"Kafka集群偏移量异常，当前：${labels.value}。可能存在数据异常问题，请观察!\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic副本丢失','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"count(kafka_topic_partition_under_replicated_partition{topic!=\\\"\\\",partition=\\\"0\\\"}==0) by(topic,job)\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个副本。当一个分区的某个副本所在的 broker 宕机、网络不可达、数据损坏或由于其他原因导致副本不可用时，就会发生副本丢失。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','Kafka节点离线告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"kafka_brokers\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个节点。Kafka 集群中的某个节点下线，可能会导致部分分区数据无法读取或写入，并可能导致消费者或生产者请求失败。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','KubernetesAPI 服务器延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{verb!~\\\"(?:CONNECT|WATCHLIST|WATCH|PROXY)\\\"} [10m])) WITHOUT (subresource))\", \"annotations\": \"Kubernetes API 服务器对于 ${labels.verb} ${labels.resource} 的第 99 个百分位延迟为 ${labels.value} 秒。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取外部指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetExternalMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取资源指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetResourceMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA调整副本数失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedRescale\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode内存压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderMemoryPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode磁盘压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderDiskPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode节点不可用','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeNotReady\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod不健康','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Unhealthy\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod反覆崩溃','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"CrashLoopBackOff\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod启动失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Failed\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod挂载卷失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedMount\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod调度失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedScheduling\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod超出运行期限','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"DeadlineExceeded\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod附加卷到节点失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedAttachVolume\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPV/PVC绑定失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedBinding\", \"resource\": \"PVC/PV\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes客户端证书下周到期','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<604800\", \"severity\": \"P0\"}], \"promQL\": \"apiserver_client_certificate_expiration_seconds_count{job=\\\"apiserver\\\"} > 0 and histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job=\\\"apiserver\\\"}[5m])))\", \"annotations\": \"K8s集群证书下周到期，请立即处理。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点网络不可用','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"kube_node_status_condition{condition=\\\"NetworkUnavailable\\\",status=\\\"true\\\"}\", \"annotations\": \"节点 ${labels.instance}，存在 NetworkUnavailable 情况\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点超出 pod 容量','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">110\", \"severity\": \"P0\"}], \"promQL\": \"sum by (node) ((kube_pod_status_phase{phase=\\\"Running\\\"} == 1) + on(uid, instance) group_left(node) (0 * kube_pod_info{pod_template_hash=\\\"\\\"})) / sum by (node) (kube_node_status_allocatable{resource=\\\"pods\\\"}) * 100\", \"annotations\": \"节点 ${labels.instance}，超出 pod 容量\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员复制存在延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">10\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_optime_date{state=\\\"PRIMARY\\\"} - on (set) group_right mongodb_mongod_replset_member_optime_date{state=\\\"SECONDARY\\\"}\", \"annotations\": \"MongoDB实例：${labels.instance} ，复制延迟过高，当前：${labels.value}。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_health\", \"annotations\": \"实例：${labels.instance} 不健康，如果副本集中有节点健康状态异常，可能会导致数据同步延迟、读写操作失败，甚至可能引发服务不可用的问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB节点宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_up\", \"annotations\": \"MongoDB实例：${labels.instance} ，节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"round((max(mongodb_connections{state=\\\"current\\\"}) by (instance,job) / sum(mongodb_connections{state=~\\\"current|available\\\"}) by (instance,job) * 100) * 100) / 100\", \"annotations\": \"实例：${labels.instance} 连接数过多，当连接数达到上限时，新的客户端连接请求将被拒绝，进而影响应用程序的正常运行，可能引发严重的系统不可用问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL存在慢查询','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(mysql_global_status_slow_queries[1m])\", \"annotations\": \"MySQL实例：${labels.instance}，存在慢查询，当前条数：${labels.value}。慢查询通常表明数据库中存在未优化的 SQL 操作，可能导致查询性能下降，影响整体响应时间。需要通过优化查询语句、添加索引、调整表结构或优化数据库配置来解决慢查询问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mysql_up\", \"annotations\": \"MySQL实例：${labels.instance}，意外宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL实例发生重启','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<60\", \"severity\": \"P0\"}], \"promQL\": \"mysql_global_status_uptime\", \"annotations\": \"MySQL实例：${labels.instance}，发生重启。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_connected[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"MySQL实例：${labels.instance}，连接数过多，当前：${labels.value}。连接数接近上限意味着数据库负载很高，可能导致连接请求被拒绝，影响业务操作。 连接数耗尽时，新请求会被拒绝，导致数据库不可用。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL高线程运行','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_running[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高线程数可能导致数据库负载增加，需要检查数据库的并发操作、慢查询、事务等待等问题，优化线程池配置和查询效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((sum(rate(container_cpu_usage_seconds_total{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}[5m])) by (namespace,pod,container) / sum(kube_pod_container_resource_limits{namespace=\\\"kube-system\\\",resource=\\\"cpu\\\"}) by (container,namespace,pod) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\nCPU使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod 内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((avg by (namespace,pod,container) (container_memory_usage_bytes{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}) / avg by (namespace,pod,container) (container_spec_memory_limit_bytes{namespace=\\\"kube-system\\\",container!=\\\"\\\"})) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\n内存使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis主节点过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"count(redis_instance_info{role=\\\"master\\\"})\", \"annotations\": \"Redis实例：${labels.instance}，集群中有太多节点标记为主节点。！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis实例宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"redis_up\", \"annotations\": \"Redis实例：${labels.instance}，发生宕机，请跟进排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis拒绝连接','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(redis_rejected_connections_total[1m])\", \"annotations\": \"Redis实例：${labels.instance}，一些与 Redis 的连接已被拒绝。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis系统内存不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_memory_used_bytes / redis_total_system_memory_bytes * 100\", \"annotations\": \"Redis实例：${labels.instance}，系统内存不足（> 80％），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis缺少主节点','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<1\", \"severity\": \"P0\"}], \"promQL\": \"(count(redis_instance_info{role=\\\"master\\\"}) or vector(0))\", \"annotations\": \"Redis实例：${labels.instance}，集群没有标记为主节点！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_connected_clients / redis_config_maxclients * 100\", \"annotations\": \"Redis实例：${labels.instance}，连接数不足（使用率 > 90%），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内QPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_qps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，QPS 的突然增长通常意味着突发的业务流量或异常的请求量。 如果增长过快且超出系统处理能力，可能会导致请求积压，响应时间增加，甚至服务不可用。 持续的高 QPS 可能导致资源耗尽，如 CPU、内存和 I/O 负载增高。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内TPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_tps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，TPS 的快速增长通常意味着大量的消息发送或消费请求。这可能导致 Broker 的压力增加。 当 TPS 增长过快时，Broker 可能面临资源瓶颈（例如内存、CPU、磁盘 I/O），导致处理效率下降。 突增的 TPS 可能由于异常业务流量或系统故障，需进一步排查原因。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"sum(rocketmq_brokeruntime_commitlog_disk_ratio) by (brokerIP) * 100\", \"annotations\": \"实例：${labels.instance}，磁盘空间不足可能导致消息无法写入，导致消息积压，甚至服务中断。 当磁盘使用率过高时，文件系统性能也可能下降，影响读写效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Traces','Jaeger','Trace链路存在异常状态码','Jaeger',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"%7B\\\"http.status_code\\\"%3A\\\"5.%2A%3F\\\"%7D\", \"scope\": 10, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','接口耗时大于300ms','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"{app=\\\"apisix\\\"} !~ `socket.io` | json | upstream_response_time > 0.3 | upstream_response_time != \\\"\\\"\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「占比超过1%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(count_over_time({namespace=\\\"prod\\\"} |~ `ERROR`[10m])) / sum(count_over_time({namespace=\\\"prod\\\"}[10m])) * 100 > 1\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「增长率超过2%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(rate({namespace=\\\"prod\\\"} |~ `level` |~ `ERROR`[5m])) by (app) > 2\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器CPU使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (avg(irate(node_cpu_seconds_total{mode=\\\"idle\\\",}[5m])) by (instance) * 100))\", \"annotations\": \"节点：${labels.instance}，CPU使用率过高，当前：${labels.value}%，高 CPU 使用率意味着服务器可能接近处理能力上限，影响性能，导致应用程序响应变慢或服务中断！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器TCP连接数监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">500\", \"severity\": \"P0\"}], \"promQL\": \"sum(label_replace(max(node_sockstat_TCP_alloc{}) by (instance),\\\"host_ip\\\",\\\"$1\\\",\\\"instance\\\",\\\"(.*):.*\\\"))by(instance)\", \"annotations\": \"节点：${labels.instance}，TCP连接数过高，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器入网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_transmit_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能接收了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器内存使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (node_memory_MemAvailable_bytes{} / node_memory_MemTotal_bytes{} * 100))\", \"annotations\": \"节点：${labels.instance}，内存使用率过高，当前：${labels.value}%，内存紧张可能导致系统频繁进行内存交换（swap），进而引起性能下降。如果内存耗尽，应用程序可能崩溃或无法分配更多资源。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器出网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_receive_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能发送了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器文件系统设备错误','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"node_filesystem_device_error\", \"annotations\": \"节点：${labels.instance}，${labels.mountpoint} 文件系统出现设备错误，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器时钟偏差','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">=0\", \"severity\": \"P0\"}], \"promQL\": \"((node_timex_offset_seconds > 0.05 and deriv(node_timex_offset_seconds[5m]) >= 0) or (node_timex_offset_seconds < -0.05 and deriv(node_timex_offset_seconds[5m]) <= 0)) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，检测到时钟偏差，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"up{}\", \"annotations\": \"实例：${labels.instance}，节点状态可能是exporter运行状态异常，也能是服务器宕机，当此告警发生后，需要进一步排查来确保节点的状态。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO写流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_written_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，磁盘可能写入了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO读流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_read_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，磁盘可能读取了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">85\", \"severity\": \"P0\"}, {\"expr\": \">80\", \"severity\": \"P1\"}, {\"expr\": \">75\", \"severity\": \"P2\"}], \"promQL\": \"round(max((node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",}) *100/(node_filesystem_avail_bytes {fstype=~\\\"ext.?|xfs\\\",}+(node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",})))by(ecs_cname,instance))\", \"annotations\": \"节点：${labels.instance}，磁盘使用率过高，当前：${labels.value}%，磁盘空间不足会导致文件无法写入、新日志无法记录，甚至可能使服务无法正常运行。尤其在数据增长迅速的系统中，这需要重点监控。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD DB Total Size过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(etcd_mvcc_db_total_size_in_bytes / etcd_server_quota_backend_bytes) * 100\", \"annotations\": \"实例：${labels.instance}，ETCD 数据库过大可能导致查询和写入操作的延迟增加，影响 APISIX 的性能。 数据库过大还可能增加 ETCD 集群的负载，导致资源消耗增加，甚至可能触发 OOM（内存溢出）等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD leader变更频繁','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">5\", \"severity\": \"P0\"}], \"promQL\": \"changes(etcd_server_leader_changes_seen_total{}[1h])\", \"annotations\": \"实例：${labels.instance}，频繁的 leader 变更会导致配置更新延迟和性能下降。 可能引发 ETCD 的可用性问题，从而影响 APISIX 的配置同步和运行稳定性。 可能是由于网络抖动、节点故障或资源瓶颈等问题导致的，需要进一步排查。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD 缺失leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"sum(etcd_server_is_leader{})\", \"annotations\": \"实例：${labels.instance}，当缺少 leader 时，ETCD 集群将无法处理写操作，这会导致 APISIX 无法进行配置更新。 配置无法更新可能导致流量调度、插件配置等关键功能失效，直接影响业务的运行。 这种情况通常是由于 ETCD 集群的严重故障或节点失联导致的，需及时修复。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD连接状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"apisix_etcd_reachable\", \"annotations\": \"实例：${labels.instance}，APISIX 无法从 Etcd 读取或写入配置信息，可能导致路由规则更新失败、服务发现异常等问题，进而影响整个 API 网关的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 每秒请求量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1000\", \"severity\": \"P0\"}], \"promQL\": \"increase(apisix_http_requests_total{}[1m]) / 60\", \"annotations\": \"实例：${labels.instance}，生产环境APISix服务正在经历高请求速率。每秒超过1000个请求。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 活跃连接接近峰值','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">135313\", \"severity\": \"P0\"}], \"promQL\": \"sum(apisix_nginx_http_current_connections{state=\\\"active\\\"})\", \"annotations\": \"实例：${labels.instance}，连接数超过apisix工作节点的worker connections总数后，网关会停止工作，新的请求会被拒绝，导致业务受影响。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker ContainerKilled','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"time() - container_last_seen\", \"annotations\": \"容器：${labels.instance}，被意外杀死，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(rate(container_cpu_usage_seconds_total{container!=\\\"\\\"}[5m])) by (pod, container) / sum(container_spec_cpu_quota{container!=\\\"\\\"}/container_spec_cpu_period{container!=\\\"\\\"}) by (pod, container) * 100)\", \"annotations\": \"容器：${labels.instance}，CPU使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(container_memory_working_set_bytes{name!=\\\"\\\"}) BY (instance, name) / sum(container_spec_memory_limit_bytes > 0) BY (instance, name) * 100)\", \"annotations\": \"容器：${labels.instance}，内存使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器存储使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(1 - (sum(container_fs_inodes_free{name!=\\\"\\\"}) BY (instance) / sum(container_fs_inodes_total) BY (instance))) * 100\", \"annotations\": \"容器：${labels.instance}，存储使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES慢查询告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.2\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_time_seconds[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，慢查询占用较多计算和存储资源，可能导致其他查询任务响应变慢，影响系统的整体性能。 频繁的慢查询会增加 Elasticsearch 集群的负载，导致 CPU、内存和磁盘 I/O 的压力增大，甚至导致集群不稳定。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(elasticsearch_process_cpu_percent{})\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高 CPU 使用率可能是由于高查询或写入负载、复杂的查询操作、数据压缩或解压引起的，可能导致节点性能下降、响应时间变长，甚至引发故障。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点堆内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((elasticsearch_jvm_memory_used_bytes{area=\\\"heap\\\"} / elasticsearch_jvm_memory_max_bytes{area=\\\"heap\\\"}) * 100 ) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，内存使用率过高可能导致频繁的垃圾回收 (GC)，增加延迟，甚至导致“out of memory” (OOM) 错误，使节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_node_stats_up\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，节点状态不等于1可能是节点出现down机的情况，会影响到整个集群的稳定性。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((100 - (elasticsearch_filesystem_data_available_bytes{}/elasticsearch_filesystem_data_size_bytes{} * 100)) * 100 ) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，磁盘空间不足会导致分片无法写入或重新分配，影响集群的正常运行，可能导致集群进入黄色或红色状态。超过 90% 时，集群可能会停止写入。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群写入QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_indexing_index_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，写入 QPS 过高可能导致写入延迟增加、集群性能下降，甚至引发写入失败。大量写入请求可能导致分片分配不均、节点负载过高等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群查询QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，查询 QPS 过高可能导致查询延迟增加、响应时间变长，影响查询性能。集群的查询负载增加，可能造成节点资源紧张。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为红色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"red\\\"}\", \"annotations\": \"实例：${labels.instance}，红色状态表示集群中有主分片和副本分片不可用，数据丢失或无法访问。此时，部分或全部数据不可用，可能影响业务的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为黄色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"yellow\\\"}\", \"annotations\": \"实例：${labels.instance}，黄色状态表示集群中的主分片可用，但副本分片有问题，通常是由于资源不足、分片分配失败等原因。虽然数据可以读取，但副本的不可用会降低数据冗余性和容灾能力。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 GRPC 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(grpc_server_handled_total{grpc_code!=\\\"OK\\\"}[1m])) BY (grpc_service, grpc_method) / sum(rate(grpc_server_handled_total[1m])) BY (grpc_service, grpc_method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 GRPC 请求失败，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 HTTP 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(etcd_http_failed_total[1m])) BY (method) / sum(rate(etcd_http_received_total[1m])) BY (method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 HTTP 故障，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd成员不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"count(etcd_server_id) % 2\", \"annotations\": \"Etcd 集群应具有奇数个成员，当前成员个数：${labels.value}\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd无Leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"etcd_server_has_leader\", \"annotations\": \"Etcd 集群没有领导者\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd频繁发生领导者变更','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">2\", \"severity\": \"P0\"}], \"promQL\": \"increase(etcd_server_leader_changes_seen_total[10m])\", \"annotations\": \"Etcd 领导者在 10 分钟内变更超过 2 次。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic偏移量过低','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"< 1\", \"severity\": \"P0\"}], \"promQL\": \"rate(kafka_topic_partition_current_offset{topic!=\\\"\\\"}[2m])\", \"annotations\": \"Kafka集群偏移量异常，当前：${labels.value}。可能存在数据异常问题，请观察!\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic副本丢失','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"count(kafka_topic_partition_under_replicated_partition{topic!=\\\"\\\",partition=\\\"0\\\"}==0) by(topic,job)\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个副本。当一个分区的某个副本所在的 broker 宕机、网络不可达、数据损坏或由于其他原因导致副本不可用时，就会发生副本丢失。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','Kafka节点离线告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"kafka_brokers\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个节点。Kafka 集群中的某个节点下线，可能会导致部分分区数据无法读取或写入，并可能导致消费者或生产者请求失败。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','KubernetesAPI 服务器延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{verb!~\\\"(?:CONNECT|WATCHLIST|WATCH|PROXY)\\\"} [10m])) WITHOUT (subresource))\", \"annotations\": \"Kubernetes API 服务器对于 ${labels.verb} ${labels.resource} 的第 99 个百分位延迟为 ${labels.value} 秒。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取外部指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetExternalMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取资源指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetResourceMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA调整副本数失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedRescale\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode内存压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderMemoryPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode磁盘压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderDiskPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode节点不可用','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeNotReady\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod不健康','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Unhealthy\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod反覆崩溃','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"CrashLoopBackOff\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod启动失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Failed\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod挂载卷失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedMount\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod调度失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedScheduling\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod超出运行期限','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"DeadlineExceeded\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod附加卷到节点失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedAttachVolume\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPV/PVC绑定失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedBinding\", \"resource\": \"PVC/PV\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes客户端证书下周到期','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<604800\", \"severity\": \"P0\"}], \"promQL\": \"apiserver_client_certificate_expiration_seconds_count{job=\\\"apiserver\\\"} > 0 and histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job=\\\"apiserver\\\"}[5m])))\", \"annotations\": \"K8s集群证书下周到期，请立即处理。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点网络不可用','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"kube_node_status_condition{condition=\\\"NetworkUnavailable\\\",status=\\\"true\\\"}\", \"annotations\": \"节点 ${labels.instance}，存在 NetworkUnavailable 情况\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点超出 pod 容量','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">110\", \"severity\": \"P0\"}], \"promQL\": \"sum by (node) ((kube_pod_status_phase{phase=\\\"Running\\\"} == 1) + on(uid, instance) group_left(node) (0 * kube_pod_info{pod_template_hash=\\\"\\\"})) / sum by (node) (kube_node_status_allocatable{resource=\\\"pods\\\"}) * 100\", \"annotations\": \"节点 ${labels.instance}，超出 pod 容量\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员复制存在延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">10\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_optime_date{state=\\\"PRIMARY\\\"} - on (set) group_right mongodb_mongod_replset_member_optime_date{state=\\\"SECONDARY\\\"}\", \"annotations\": \"MongoDB实例：${labels.instance} ，复制延迟过高，当前：${labels.value}。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_health\", \"annotations\": \"实例：${labels.instance} 不健康，如果副本集中有节点健康状态异常，可能会导致数据同步延迟、读写操作失败，甚至可能引发服务不可用的问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB节点宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_up\", \"annotations\": \"MongoDB实例：${labels.instance} ，节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"round((max(mongodb_connections{state=\\\"current\\\"}) by (instance,job) / sum(mongodb_connections{state=~\\\"current|available\\\"}) by (instance,job) * 100) * 100) / 100\", \"annotations\": \"实例：${labels.instance} 连接数过多，当连接数达到上限时，新的客户端连接请求将被拒绝，进而影响应用程序的正常运行，可能引发严重的系统不可用问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL存在慢查询','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(mysql_global_status_slow_queries[1m])\", \"annotations\": \"MySQL实例：${labels.instance}，存在慢查询，当前条数：${labels.value}。慢查询通常表明数据库中存在未优化的 SQL 操作，可能导致查询性能下降，影响整体响应时间。需要通过优化查询语句、添加索引、调整表结构或优化数据库配置来解决慢查询问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mysql_up\", \"annotations\": \"MySQL实例：${labels.instance}，意外宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL实例发生重启','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<60\", \"severity\": \"P0\"}], \"promQL\": \"mysql_global_status_uptime\", \"annotations\": \"MySQL实例：${labels.instance}，发生重启。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_connected[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"MySQL实例：${labels.instance}，连接数过多，当前：${labels.value}。连接数接近上限意味着数据库负载很高，可能导致连接请求被拒绝，影响业务操作。 连接数耗尽时，新请求会被拒绝，导致数据库不可用。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL高线程运行','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_running[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高线程数可能导致数据库负载增加，需要检查数据库的并发操作、慢查询、事务等待等问题，优化线程池配置和查询效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((sum(rate(container_cpu_usage_seconds_total{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}[5m])) by (namespace,pod,container) / sum(kube_pod_container_resource_limits{namespace=\\\"kube-system\\\",resource=\\\"cpu\\\"}) by (container,namespace,pod) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\nCPU使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod 内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((avg by (namespace,pod,container) (container_memory_usage_bytes{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}) / avg by (namespace,pod,container) (container_spec_memory_limit_bytes{namespace=\\\"kube-system\\\",container!=\\\"\\\"})) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\n内存使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis主节点过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"count(redis_instance_info{role=\\\"master\\\"})\", \"annotations\": \"Redis实例：${labels.instance}，集群中有太多节点标记为主节点。！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis实例宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"redis_up\", \"annotations\": \"Redis实例：${labels.instance}，发生宕机，请跟进排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis拒绝连接','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(redis_rejected_connections_total[1m])\", \"annotations\": \"Redis实例：${labels.instance}，一些与 Redis 的连接已被拒绝。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis系统内存不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_memory_used_bytes / redis_total_system_memory_bytes * 100\", \"annotations\": \"Redis实例：${labels.instance}，系统内存不足（> 80％），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis缺少主节点','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<1\", \"severity\": \"P0\"}], \"promQL\": \"(count(redis_instance_info{role=\\\"master\\\"}) or vector(0))\", \"annotations\": \"Redis实例：${labels.instance}，集群没有标记为主节点！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_connected_clients / redis_config_maxclients * 100\", \"annotations\": \"Redis实例：${labels.instance}，连接数不足（使用率 > 90%），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内QPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_qps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，QPS 的突然增长通常意味着突发的业务流量或异常的请求量。 如果增长过快且超出系统处理能力，可能会导致请求积压，响应时间增加，甚至服务不可用。 持续的高 QPS 可能导致资源耗尽，如 CPU、内存和 I/O 负载增高。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内TPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_tps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，TPS 的快速增长通常意味着大量的消息发送或消费请求。这可能导致 Broker 的压力增加。 当 TPS 增长过快时，Broker 可能面临资源瓶颈（例如内存、CPU、磁盘 I/O），导致处理效率下降。 突增的 TPS 可能由于异常业务流量或系统故障，需进一步排查原因。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"sum(rocketmq_brokeruntime_commitlog_disk_ratio) by (brokerIP) * 100\", \"annotations\": \"实例：${labels.instance}，磁盘空间不足可能导致消息无法写入，导致消息积压，甚至服务中断。 当磁盘使用率过高时，文件系统性能也可能下降，影响读写效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Traces','Jaeger','Trace链路存在异常状态码','Jaeger',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"%7B\\\"http.status_code\\\"%3A\\\"5.%2A%3F\\\"%7D\", \"scope\": 10, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','接口耗时大于300ms','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"{app=\\\"apisix\\\"} !~ `socket.io` | json | upstream_response_time > 0.3 | upstream_response_time != \\\"\\\"\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「占比超过1%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(count_over_time({namespace=\\\"prod\\\"} |~ `ERROR`[10m])) / sum(count_over_time({namespace=\\\"prod\\\"}[10m])) * 100 > 1\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「增长率超过2%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(rate({namespace=\\\"prod\\\"} |~ `level` |~ `ERROR`[5m])) by (app) > 2\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器CPU使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (avg(irate(node_cpu_seconds_total{mode=\\\"idle\\\",}[5m])) by (instance) * 100))\", \"annotations\": \"节点：${labels.instance}，CPU使用率过高，当前：${labels.value}%，高 CPU 使用率意味着服务器可能接近处理能力上限，影响性能，导致应用程序响应变慢或服务中断！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器TCP连接数监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">500\", \"severity\": \"P0\"}], \"promQL\": \"sum(label_replace(max(node_sockstat_TCP_alloc{}) by (instance),\\\"host_ip\\\",\\\"$1\\\",\\\"instance\\\",\\\"(.*):.*\\\"))by(instance)\", \"annotations\": \"节点：${labels.instance}，TCP连接数过高，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器入网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_transmit_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能接收了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器内存使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (node_memory_MemAvailable_bytes{} / node_memory_MemTotal_bytes{} * 100))\", \"annotations\": \"节点：${labels.instance}，内存使用率过高，当前：${labels.value}%，内存紧张可能导致系统频繁进行内存交换（swap），进而引起性能下降。如果内存耗尽，应用程序可能崩溃或无法分配更多资源。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器出网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_receive_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能发送了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器文件系统设备错误','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"node_filesystem_device_error\", \"annotations\": \"节点：${labels.instance}，${labels.mountpoint} 文件系统出现设备错误，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器时钟偏差','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">=0\", \"severity\": \"P0\"}], \"promQL\": \"((node_timex_offset_seconds > 0.05 and deriv(node_timex_offset_seconds[5m]) >= 0) or (node_timex_offset_seconds < -0.05 and deriv(node_timex_offset_seconds[5m]) <= 0)) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，检测到时钟偏差，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"up{}\", \"annotations\": \"实例：${labels.instance}，节点状态可能是exporter运行状态异常，也能是服务器宕机，当此告警发生后，需要进一步排查来确保节点的状态。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO写流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_written_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，磁盘可能写入了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO读流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_read_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，磁盘可能读取了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">85\", \"severity\": \"P0\"}, {\"expr\": \">80\", \"severity\": \"P1\"}, {\"expr\": \">75\", \"severity\": \"P2\"}], \"promQL\": \"round(max((node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",}) *100/(node_filesystem_avail_bytes {fstype=~\\\"ext.?|xfs\\\",}+(node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",})))by(ecs_cname,instance))\", \"annotations\": \"节点：${labels.instance}，磁盘使用率过高，当前：${labels.value}%，磁盘空间不足会导致文件无法写入、新日志无法记录，甚至可能使服务无法正常运行。尤其在数据增长迅速的系统中，这需要重点监控。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD DB Total Size过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(etcd_mvcc_db_total_size_in_bytes / etcd_server_quota_backend_bytes) * 100\", \"annotations\": \"实例：${labels.instance}，ETCD 数据库过大可能导致查询和写入操作的延迟增加，影响 APISIX 的性能。 数据库过大还可能增加 ETCD 集群的负载，导致资源消耗增加，甚至可能触发 OOM（内存溢出）等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD leader变更频繁','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">5\", \"severity\": \"P0\"}], \"promQL\": \"changes(etcd_server_leader_changes_seen_total{}[1h])\", \"annotations\": \"实例：${labels.instance}，频繁的 leader 变更会导致配置更新延迟和性能下降。 可能引发 ETCD 的可用性问题，从而影响 APISIX 的配置同步和运行稳定性。 可能是由于网络抖动、节点故障或资源瓶颈等问题导致的，需要进一步排查。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD 缺失leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"sum(etcd_server_is_leader{})\", \"annotations\": \"实例：${labels.instance}，当缺少 leader 时，ETCD 集群将无法处理写操作，这会导致 APISIX 无法进行配置更新。 配置无法更新可能导致流量调度、插件配置等关键功能失效，直接影响业务的运行。 这种情况通常是由于 ETCD 集群的严重故障或节点失联导致的，需及时修复。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX ETCD连接状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"apisix_etcd_reachable\", \"annotations\": \"实例：${labels.instance}，APISIX 无法从 Etcd 读取或写入配置信息，可能导致路由规则更新失败、服务发现异常等问题，进而影响整个 API 网关的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 每秒请求量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1000\", \"severity\": \"P0\"}], \"promQL\": \"increase(apisix_http_requests_total{}[1m]) / 60\", \"annotations\": \"实例：${labels.instance}，生产环境APISix服务正在经历高请求速率。每秒超过1000个请求。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','APISIX','APISIX 活跃连接接近峰值','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">135313\", \"severity\": \"P0\"}], \"promQL\": \"sum(apisix_nginx_http_current_connections{state=\\\"active\\\"})\", \"annotations\": \"实例：${labels.instance}，连接数超过apisix工作节点的worker connections总数后，网关会停止工作，新的请求会被拒绝，导致业务受影响。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker ContainerKilled','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"time() - container_last_seen\", \"annotations\": \"容器：${labels.instance}，被意外杀死，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(rate(container_cpu_usage_seconds_total{container!=\\\"\\\"}[5m])) by (pod, container) / sum(container_spec_cpu_quota{container!=\\\"\\\"}/container_spec_cpu_period{container!=\\\"\\\"}) by (pod, container) * 100)\", \"annotations\": \"容器：${labels.instance}，CPU使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(sum(container_memory_working_set_bytes{name!=\\\"\\\"}) BY (instance, name) / sum(container_spec_memory_limit_bytes > 0) BY (instance, name) * 100)\", \"annotations\": \"容器：${labels.instance}，内存使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Docker','Docker容器存储使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"(1 - (sum(container_fs_inodes_free{name!=\\\"\\\"}) BY (instance) / sum(container_fs_inodes_total) BY (instance))) * 100\", \"annotations\": \"容器：${labels.instance}，存储使用率过高，当前：${labels.value}%，请注意排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES慢查询告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.2\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_time_seconds[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，慢查询占用较多计算和存储资源，可能导致其他查询任务响应变慢，影响系统的整体性能。 频繁的慢查询会增加 Elasticsearch 集群的负载，导致 CPU、内存和磁盘 I/O 的压力增大，甚至导致集群不稳定。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(elasticsearch_process_cpu_percent{})\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高 CPU 使用率可能是由于高查询或写入负载、复杂的查询操作、数据压缩或解压引起的，可能导致节点性能下降、响应时间变长，甚至引发故障。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点堆内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((elasticsearch_jvm_memory_used_bytes{area=\\\"heap\\\"} / elasticsearch_jvm_memory_max_bytes{area=\\\"heap\\\"}) * 100 ) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，内存使用率过高可能导致频繁的垃圾回收 (GC)，增加延迟，甚至导致“out of memory” (OOM) 错误，使节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点状态','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_node_stats_up\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，节点状态不等于1可能是节点出现down机的情况，会影响到整个集群的稳定性。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES节点磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((100 - (elasticsearch_filesystem_data_available_bytes{}/elasticsearch_filesystem_data_size_bytes{} * 100)) * 100 ) / 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，磁盘空间不足会导致分片无法写入或重新分配，影响集群的正常运行，可能导致集群进入黄色或红色状态。超过 90% 时，集群可能会停止写入。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群写入QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_indexing_index_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，写入 QPS 过高可能导致写入延迟增加、集群性能下降，甚至引发写入失败。大量写入请求可能导致分片分配不均、节点负载过高等问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群查询QPS大于50','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"rate(elasticsearch_indices_search_query_total[5m])\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，查询 QPS 过高可能导致查询延迟增加、响应时间变长，影响查询性能。集群的查询负载增加，可能造成节点资源紧张。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为红色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"red\\\"}\", \"annotations\": \"实例：${labels.instance}，红色状态表示集群中有主分片和副本分片不可用，数据丢失或无法访问。此时，部分或全部数据不可用，可能影响业务的正常运行。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ElasticSearch','ES集群状态为黄色','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"elasticsearch_cluster_health_status{color=\\\"yellow\\\"}\", \"annotations\": \"实例：${labels.instance}，黄色状态表示集群中的主分片可用，但副本分片有问题，通常是由于资源不足、分片分配失败等原因。虽然数据可以读取，但副本的不可用会降低数据冗余性和容灾能力。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 GRPC 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(grpc_server_handled_total{grpc_code!=\\\"OK\\\"}[1m])) BY (grpc_service, grpc_method) / sum(rate(grpc_server_handled_total[1m])) BY (grpc_service, grpc_method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 GRPC 请求失败，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd大量失败的 HTTP 请求','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0.01\", \"severity\": \"P0\"}], \"promQL\": \"sum(rate(etcd_http_failed_total[1m])) BY (method) / sum(rate(etcd_http_received_total[1m])) BY (method)\", \"annotations\": \"Etcd 中检测到超过 1% 的 HTTP 故障，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd成员不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"count(etcd_server_id) % 2\", \"annotations\": \"Etcd 集群应具有奇数个成员，当前成员个数：${labels.value}\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd无Leader','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"etcd_server_has_leader\", \"annotations\": \"Etcd 集群没有领导者\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','ETCD','Etcd频繁发生领导者变更','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">2\", \"severity\": \"P0\"}], \"promQL\": \"increase(etcd_server_leader_changes_seen_total[10m])\", \"annotations\": \"Etcd 领导者在 10 分钟内变更超过 2 次。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic偏移量过低','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"< 1\", \"severity\": \"P0\"}], \"promQL\": \"rate(kafka_topic_partition_current_offset{topic!=\\\"\\\"}[2m])\", \"annotations\": \"Kafka集群偏移量异常，当前：${labels.value}。可能存在数据异常问题，请观察!\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','KafkaTopic副本丢失','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"count(kafka_topic_partition_under_replicated_partition{topic!=\\\"\\\",partition=\\\"0\\\"}==0) by(topic,job)\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个副本。当一个分区的某个副本所在的 broker 宕机、网络不可达、数据损坏或由于其他原因导致副本不可用时，就会发生副本丢失。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Kafka','Kafka节点离线告警','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<3\", \"severity\": \"P0\"}], \"promQL\": \"kafka_brokers\", \"annotations\": \"Kafka集群节点缺失，当前：${labels.value}个节点。Kafka 集群中的某个节点下线，可能会导致部分分区数据无法读取或写入，并可能导致消费者或生产者请求失败。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','KubernetesAPI 服务器延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{verb!~\\\"(?:CONNECT|WATCHLIST|WATCH|PROXY)\\\"} [10m])) WITHOUT (subresource))\", \"annotations\": \"Kubernetes API 服务器对于 ${labels.verb} ${labels.resource} 的第 99 个百分位延迟为 ${labels.value} 秒。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取外部指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetExternalMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA获取资源指标失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedGetResourceMetric\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesHPA调整副本数失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedRescale\", \"resource\": \"HPA\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode内存压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderMemoryPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode磁盘压力过大','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeUnderDiskPressure\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesNode节点不可用','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"NodeNotReady\", \"resource\": \"Nodes\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod不健康','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Unhealthy\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod反覆崩溃','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"CrashLoopBackOff\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod启动失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"Failed\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod挂载卷失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedMount\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod调度失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedScheduling\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod超出运行期限','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"DeadlineExceeded\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPod附加卷到节点失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedAttachVolume\", \"resource\": \"Pods\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Events','Kubernetes','KubernetesPV/PVC绑定失败','KubernetesEvent',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 10, \"value\": 1, \"filter\": null, \"reason\": \"FailedBinding\", \"resource\": \"PVC/PV\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes客户端证书下周到期','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<604800\", \"severity\": \"P0\"}], \"promQL\": \"apiserver_client_certificate_expiration_seconds_count{job=\\\"apiserver\\\"} > 0 and histogram_quantile(0.01, sum by (job, le) (rate(apiserver_client_certificate_expiration_seconds_bucket{job=\\\"apiserver\\\"}[5m])))\", \"annotations\": \"K8s集群证书下周到期，请立即处理。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点网络不可用','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"kube_node_status_condition{condition=\\\"NetworkUnavailable\\\",status=\\\"true\\\"}\", \"annotations\": \"节点 ${labels.instance}，存在 NetworkUnavailable 情况\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Kubernetes节点超出 pod 容量','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">110\", \"severity\": \"P0\"}], \"promQL\": \"sum by (node) ((kube_pod_status_phase{phase=\\\"Running\\\"} == 1) + on(uid, instance) group_left(node) (0 * kube_pod_info{pod_template_hash=\\\"\\\"})) / sum by (node) (kube_node_status_allocatable{resource=\\\"pods\\\"}) * 100\", \"annotations\": \"节点 ${labels.instance}，超出 pod 容量\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员复制存在延迟','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">10\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_optime_date{state=\\\"PRIMARY\\\"} - on (set) group_right mongodb_mongod_replset_member_optime_date{state=\\\"SECONDARY\\\"}\", \"annotations\": \"MongoDB实例：${labels.instance} ，复制延迟过高，当前：${labels.value}。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB副本成员状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"!=1\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_mongod_replset_member_health\", \"annotations\": \"实例：${labels.instance} 不健康，如果副本集中有节点健康状态异常，可能会导致数据同步延迟、读写操作失败，甚至可能引发服务不可用的问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB节点宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mongodb_up\", \"annotations\": \"MongoDB实例：${labels.instance} ，节点宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MongoDB','MongoDB连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">50\", \"severity\": \"P0\"}], \"promQL\": \"round((max(mongodb_connections{state=\\\"current\\\"}) by (instance,job) / sum(mongodb_connections{state=~\\\"current|available\\\"}) by (instance,job) * 100) * 100) / 100\", \"annotations\": \"实例：${labels.instance} 连接数过多，当连接数达到上限时，新的客户端连接请求将被拒绝，进而影响应用程序的正常运行，可能引发严重的系统不可用问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL存在慢查询','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(mysql_global_status_slow_queries[1m])\", \"annotations\": \"MySQL实例：${labels.instance}，存在慢查询，当前条数：${labels.value}。慢查询通常表明数据库中存在未优化的 SQL 操作，可能导致查询性能下降，影响整体响应时间。需要通过优化查询语句、添加索引、调整表结构或优化数据库配置来解决慢查询问题。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"mysql_up\", \"annotations\": \"MySQL实例：${labels.instance}，意外宕机。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL实例发生重启','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<60\", \"severity\": \"P0\"}], \"promQL\": \"mysql_global_status_uptime\", \"annotations\": \"MySQL实例：${labels.instance}，发生重启。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_connected[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"MySQL实例：${labels.instance}，连接数过多，当前：${labels.value}。连接数接近上限意味着数据库负载很高，可能导致连接请求被拒绝，影响业务操作。 连接数耗尽时，新请求会被拒绝，导致数据库不可用。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','MySQL','MySQL高线程运行','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">60\", \"severity\": \"P0\"}], \"promQL\": \"max_over_time(mysql_global_status_threads_running[1m]) / mysql_global_variables_max_connections * 100\", \"annotations\": \"实例：${labels.instance}，当前：${labels.value}，高线程数可能导致数据库负载增加，需要检查数据库的并发操作、慢查询、事务等待等问题，优化线程池配置和查询效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod CPU使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round((sum(rate(container_cpu_usage_seconds_total{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}[5m])) by (namespace,pod,container) / sum(kube_pod_container_resource_limits{namespace=\\\"kube-system\\\",resource=\\\"cpu\\\"}) by (container,namespace,pod) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\nCPU使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','KubernetesMetric','Pod 内存使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(((avg by (namespace,pod,container) (container_memory_usage_bytes{namespace=\\\"kube-system\\\",container!~\\\"^POD$\\\"}) / avg by (namespace,pod,container) (container_spec_memory_limit_bytes{namespace=\\\"kube-system\\\",container!=\\\"\\\"})) * 100) * 100) / 100\", \"annotations\": \"Namespace：${labels.namespace}\\nPod：${labels.pod}\\n内存使用率过高，当前：${labels.value}%\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis主节点过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">1\", \"severity\": \"P0\"}], \"promQL\": \"count(redis_instance_info{role=\\\"master\\\"})\", \"annotations\": \"Redis实例：${labels.instance}，集群中有太多节点标记为主节点。！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis实例宕机','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"redis_up\", \"annotations\": \"Redis实例：${labels.instance}，发生宕机，请跟进排查！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis拒绝连接','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">0\", \"severity\": \"P0\"}], \"promQL\": \"increase(redis_rejected_connections_total[1m])\", \"annotations\": \"Redis实例：${labels.instance}，一些与 Redis 的连接已被拒绝。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis系统内存不足','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_memory_used_bytes / redis_total_system_memory_bytes * 100\", \"annotations\": \"Redis实例：${labels.instance}，系统内存不足（> 80％），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis缺少主节点','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"<1\", \"severity\": \"P0\"}], \"promQL\": \"(count(redis_instance_info{role=\\\"master\\\"}) or vector(0))\", \"annotations\": \"Redis实例：${labels.instance}，集群没有标记为主节点！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Redis','Redis连接数过多','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"redis_connected_clients / redis_config_maxclients * 100\", \"annotations\": \"Redis实例：${labels.instance}，连接数不足（使用率 > 90%），当前：${labels.value}%。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内QPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_qps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，QPS 的突然增长通常意味着突发的业务流量或异常的请求量。 如果增长过快且超出系统处理能力，可能会导致请求积压，响应时间增加，甚至服务不可用。 持续的高 QPS 可能导致资源耗尽，如 CPU、内存和 I/O 负载增高。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ Broker5分钟内TPS增长量过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"round(increase(rocketmq_broker_tps[5m]) * 100) / 100\", \"annotations\": \"实例：${labels.instance}，TPS 的快速增长通常意味着大量的消息发送或消费请求。这可能导致 Broker 的压力增加。 当 TPS 增长过快时，Broker 可能面临资源瓶颈（例如内存、CPU、磁盘 I/O），导致处理效率下降。 突增的 TPS 可能由于异常业务流量或系统故障，需进一步排查原因。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','RocketMQ','RocketMQ磁盘使用率过高','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}], \"promQL\": \"sum(rocketmq_brokeruntime_commitlog_disk_ratio) by (brokerIP) * 100\", \"annotations\": \"实例：${labels.instance}，磁盘空间不足可能导致消息无法写入，导致消息积压，甚至服务中断。 当磁盘使用率过高时，文件系统性能也可能下降，影响读写效率。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Traces','Jaeger','Trace链路存在异常状态码','Jaeger',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"%7B\\\"http.status_code\\\"%3A\\\"5.%2A%3F\\\"%7D\", \"scope\": 10, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','接口耗时大于300ms','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"{app=\\\"apisix\\\"} !~ `socket.io` | json | upstream_response_time > 0.3 | upstream_response_time != \\\"\\\"\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「占比超过1%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(count_over_time({namespace=\\\"prod\\\"} |~ `ERROR`[10m])) / sum(count_over_time({namespace=\\\"prod\\\"}[10m])) * 100 > 1\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Logs','服务日志监控','服务ERROR错误日志「增长率超过2%」','Loki',10,0,0,'','{\"rules\": null, \"promQL\": \"\", \"annotations\": \"\", \"forDuration\": 0}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"sum(rate({namespace=\\\"prod\\\"} |~ `level` |~ `ERROR`[5m])) by (app) > 2\", \"logScope\": 10, \"evalCondition\": {\"type\": \"count\", \"value\": 1, \"operator\": \">=\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器CPU使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (avg(irate(node_cpu_seconds_total{mode=\\\"idle\\\",}[5m])) by (instance) * 100))\", \"annotations\": \"节点：${labels.instance}，CPU使用率过高，当前：${labels.value}%，高 CPU 使用率意味着服务器可能接近处理能力上限，影响性能，导致应用程序响应变慢或服务中断！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器TCP连接数监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">500\", \"severity\": \"P0\"}], \"promQL\": \"sum(label_replace(max(node_sockstat_TCP_alloc{}) by (instance),\\\"host_ip\\\",\\\"$1\\\",\\\"instance\\\",\\\"(.*):.*\\\"))by(instance)\", \"annotations\": \"节点：${labels.instance}，TCP连接数过高，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器入网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_transmit_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能接收了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器内存使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">80\", \"severity\": \"P0\"}, {\"expr\": \">75\", \"severity\": \"P1\"}, {\"expr\": \">70\", \"severity\": \"P2\"}], \"promQL\": \"round(100 - (node_memory_MemAvailable_bytes{} / node_memory_MemTotal_bytes{} * 100))\", \"annotations\": \"节点：${labels.instance}，内存使用率过高，当前：${labels.value}%，内存紧张可能导致系统频繁进行内存交换（swap），进而引起性能下降。如果内存耗尽，应用程序可能崩溃或无法分配更多资源。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器出网络吞吐量异常监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_network_receive_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，主机网络接口可能发送了太多数据（> 100 MB/s），当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器文件系统设备错误','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==1\", \"severity\": \"P0\"}], \"promQL\": \"node_filesystem_device_error\", \"annotations\": \"节点：${labels.instance}，${labels.mountpoint} 文件系统出现设备错误，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器时钟偏差','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">=0\", \"severity\": \"P0\"}], \"promQL\": \"((node_timex_offset_seconds > 0.05 and deriv(node_timex_offset_seconds[5m]) >= 0) or (node_timex_offset_seconds < -0.05 and deriv(node_timex_offset_seconds[5m]) <= 0)) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，检测到时钟偏差，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器状态异常','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \"==0\", \"severity\": \"P0\"}], \"promQL\": \"up{}\", \"annotations\": \"实例：${labels.instance}，节点状态可能是exporter运行状态异常，也能是服务器宕机，当此告警发生后，需要进一步排查来确保节点的状态。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO写流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_written_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\\n\", \"annotations\": \"节点：${labels.instance}，磁盘可能写入了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘IO读流量过大','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">100\", \"severity\": \"P0\"}], \"promQL\": \"(sum by (instance) (rate(node_disk_read_bytes_total[2m])) / 1024 / 1024 > 100) * on(instance) group_left (nodename) node_uname_info{nodename=~\\\".+\\\"}\", \"annotations\": \"节点：${labels.instance}，磁盘可能读取了太多数据 (> 100 MB/s)，当前：${labels.value}%，请尽快处理！\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL),('Metrics','Node节点监控','服务器磁盘使用率监控','Prometheus',10,0,0,'','{\"rules\": [{\"expr\": \">85\", \"severity\": \"P0\"}, {\"expr\": \">80\", \"severity\": \"P1\"}, {\"expr\": \">75\", \"severity\": \"P2\"}], \"promQL\": \"round(max((node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",}) *100/(node_filesystem_avail_bytes {fstype=~\\\"ext.?|xfs\\\",}+(node_filesystem_size_bytes{fstype=~\\\"ext.?|xfs\\\",}-node_filesystem_free_bytes{fstype=~\\\"ext.?|xfs\\\",})))by(ecs_cname,instance))\", \"annotations\": \"节点：${labels.instance}，磁盘使用率过高，当前：${labels.value}%，磁盘空间不足会导致文件无法写入、新日志无法记录，甚至可能使服务无法正常运行。尤其在数据增长迅速的系统中，这需要重点监控。\", \"forDuration\": 60}','{\"logQL\": \"\", \"project\": \"\", \"logScope\": 0, \"logstore\": [\"\"], \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"logQL\": \"\", \"logScope\": 0, \"evalCondition\": {\"type\": \"\", \"value\": 0, \"operator\": \"\", \"queryValue\": 0}}','{\"tags\": \"\", \"scope\": 0, \"service\": \"\"}','{\"scope\": 0, \"value\": 0, \"filter\": null, \"reason\": \"\", \"resource\": \"\"}','{\"index\": \"\", \"scope\": 0, \"filter\": null}',NULL,NULL);
/*!40000 ALTER TABLE `rule_templates` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `settings`
--

DROP TABLE IF EXISTS `settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `settings` (
  `is_init` bigint DEFAULT NULL,
  `auth_type` bigint DEFAULT NULL,
  `email_config` longtext,
  `phone_call_config` longtext,
  `ai_config` longtext,
  `ldap_config` longtext,
  `oidc_config` longtext,
  `quick_action_config` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `settings`
--

LOCK TABLES `settings` WRITE;
/*!40000 ALTER TABLE `settings` DISABLE KEYS */;
/*!40000 ALTER TABLE `settings` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tenant_linked_users`
--

DROP TABLE IF EXISTS `tenant_linked_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tenant_linked_users` (
  `id` varchar(191) NOT NULL,
  `users` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tenant_linked_users`
--

LOCK TABLES `tenant_linked_users` WRITE;
/*!40000 ALTER TABLE `tenant_linked_users` DISABLE KEYS */;
INSERT INTO `tenant_linked_users` VALUES ('default','[{\"userId\":\"admin\",\"userName\":\"admin\",\"userRole\":\"admin\",\"realName\":\"\"}]');
/*!40000 ALTER TABLE `tenant_linked_users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tenants`
--

DROP TABLE IF EXISTS `tenants`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tenants` (
  `id` varchar(64) NOT NULL,
  `name` longtext,
  `manager` longtext,
  `description` longtext,
  `user_number` bigint DEFAULT NULL,
  `rule_number` bigint DEFAULT NULL,
  `duty_number` bigint DEFAULT NULL,
  `notice_number` bigint DEFAULT NULL,
  `remove_protection` tinyint(1) DEFAULT NULL,
  `update_at` bigint DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tenants`
--

LOCK TABLES `tenants` WRITE;
/*!40000 ALTER TABLE `tenants` DISABLE KEYS */;
INSERT INTO `tenants` VALUES ('default','default','admin','default 租户',999,999,999,999,1,1765358211);
/*!40000 ALTER TABLE `tenants` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user_permissions`
--

DROP TABLE IF EXISTS `user_permissions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_permissions` (
  `key` longtext,
  `api` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user_permissions`
--

LOCK TABLES `user_permissions` WRITE;
/*!40000 ALTER TABLE `user_permissions` DISABLE KEYS */;
INSERT INTO `user_permissions` VALUES ('查看静默规则','/api/w8t/silence/silenceList'),('更新用户','/api/w8t/user/userUpdate'),('获取租户详情','/api/w8t/tenant/getTenant'),('获取仪表盘目录详情','/api/w8t/dashboard/getFolder'),('查看告警订阅','/api/w8t/subscribe/listSubscribe'),('查看自定义静默表单','/api/v1/alert/quick-silence'),('查看值班表','/api/w8t/calendar/calendarSearch'),('删除数据源','/api/w8t/datasource/dataSourceDelete'),('创建告警规则','/api/w8t/rule/ruleCreate'),('删除告警规则组','/api/w8t/ruleGroup/ruleGroupDelete'),('查看告警规则','/api/w8t/rule/ruleList'),('删除静默规则','/api/w8t/silence/silenceDelete'),('删除拨测规则','/api/w8t/probing/deleteProbing'),('创建仪表盘目录','/api/w8t/dashboard/createFolder'),('查看数据源','/api/w8t/datasource/dataSourceList'),('查看租户','/api/w8t/tenant/getTenantList'),('创建通知对象','/api/w8t/notice/noticeCreate'),('注册用户','/api/system/register'),('查看用户角色','/api/w8t/role/roleList'),('查看规则模版组','/api/w8t/ruleTmplGroup/ruleTmplGroupList'),('创建静默规则','/api/w8t/silence/silenceCreate'),('删除租户成员','/api/w8t/tenant/delUsersOfTenant'),('更新数据源','/api/w8t/datasource/dataSourceUpdate'),('查看值班管理','/api/w8t/dutyManage/dutyManageList'),('获取系统配置','/api/w8t/setting/getSystemSetting'),('认领/处理告警','/api/w8t/event/processAlertEvent'),('更新Exporter自动刷新状态','/api/w8t/exporter/monitor/autoRefresh'),('删除租户','/api/w8t/tenant/deleteTenant'),('创建通知模版','/api/w8t/noticeTemplate/noticeTemplateCreate'),('删除告警规则','/api/w8t/rule/ruleDelete'),('删除规则模版组','/api/w8t/ruleTmplGroup/ruleTmplGroupDelete'),('删除用户','/api/w8t/user/userDelete'),('创建拨测规则','/api/w8t/probing/createProbing'),('查看拨测规则','/api/w8t/probing/listProbing'),('查看通知记录','/api/w8t/notice/noticeRecordList'),('更新告警规则','/api/w8t/rule/ruleUpdate'),('删除告警订阅','/api/w8t/subscribe/deleteSubscribe'),('删除故障中心','/api/w8t/faultCenter/faultCenterDelete'),('执行快捷操作(认领/静默/处理)','/api/v1/alert/quick-action'),('提交自定义静默','/api/v1/alert/quick-silence'),('手动触发Exporter巡检','/api/w8t/exporter/monitor/inspect'),('获取Prometheus标签名称','/api/w8t/prometheus/labels'),('更新值班管理','/api/w8t/dutyManage/dutyManageUpdate'),('更新拨测规则','/api/w8t/probing/updateProbing'),('创建值班管理','/api/w8t/dutyManage/dutyManageCreate'),('更新通知模版','/api/w8t/noticeTemplate/noticeTemplateUpdate'),('删除用户角色','/api/w8t/role/roleDelete'),('更新用户角色','/api/w8t/role/roleUpdate'),('查看租户成员','/api/w8t/tenant/getUsersForTenant'),('查看故障中心列表','/api/w8t/faultCenter/faultCenterList'),('获取Prometheus指标名称','/api/w8t/prometheus/metrics'),('查看用户权限','/api/w8t/permissions/permsList'),('修改故障中心基本信息','/api/w8t/faultCenter/faultCenterReset'),('查看Exporter监控历史','/api/w8t/exporter/monitor/history'),('更新Exporter监控配置','/api/w8t/exporter/monitor/config'),('获取Exporter报告推送配置','/api/w8t/exporter/monitor/schedule'),('获取数据源详情','/api/w8t/datasource/dataSourceGet'),('创建规则模版组','/api/w8t/ruleTmplGroup/ruleTmplGroupCreate'),('创建故障中心','/api/w8t/faultCenter/faultCenterCreate'),('获取Prometheus时间序列','/api/w8t/prometheus/series'),('创建值班表','/api/w8t/calendar/calendarCreate'),('创建租户','/api/w8t/tenant/createTenant'),('删除规则模版','/api/w8t/ruleTmpl/ruleTmplDelete'),('更新规则模版组','/api/w8t/ruleTmplGroup/ruleTmplGroupUpdate'),('修改用户密码','/api/w8t/user/userChangePass'),('获取拨测规则详情','/api/w8t/probing/searchProbing'),('查看仪表盘目录','/api/w8t/dashboard/listFolder'),('更新仪表盘目录','/api/w8t/dashboard/updateFolder'),('查看规则模版','/api/w8t/ruleTmpl/ruleTmplList'),('搜索告警订阅','/api/w8t/subscribe/getSubscribe'),('添加评论','/api/w8t/event/addComment'),('获取Exporter监控配置','/api/w8t/exporter/monitor/config'),('更新Exporter报告推送配置','/api/w8t/exporter/monitor/schedule'),('获取Prometheus标签值','/api/w8t/prometheus/label_values'),('更新值班表','/api/w8t/calendar/calendarUpdate'),('创建数据源','/api/w8t/datasource/dataSourceCreate'),('查看通知对象','/api/w8t/notice/noticeList'),('查看通知模版','/api/w8t/noticeTemplate/noticeTemplateList'),('查看用户列表','/api/w8t/user/userList'),('删除仪表盘目录','/api/w8t/dashboard/deleteFolder'),('创建告警订阅','/api/w8t/subscribe/createSubscribe'),('更新故障中心','/api/w8t/faultCenter/faultCenterUpdate'),('删除值班管理','/api/w8t/dutyManage/dutyManageDelete'),('修改租户成员角色','/api/w8t/tenant/changeTenantUserRole'),('查询故障中心','/api/w8t/faultCenter/faultCenterSearch'),('获取拨测历史详情','/api/w8t/probing/getProbingHistory'),('查看评论','/api/w8t/event/listComments'),('发送Exporter巡检报告','/api/w8t/exporter/monitor/report/send'),('获取告警规则详情','/api/w8t/rule/ruleSearch'),('更新静默规则','/api/w8t/silence/silenceUpdate'),('更新租户','/api/w8t/tenant/updateTenant'),('编辑系统配置','/api/w8t/setting/saveSystemSetting'),('添加租户成员','/api/w8t/tenant/addUsersToTenant'),('查看仪表盘图表','/api/w8t/dashboard/listGrafanaDashboards'),('删除评论','/api/w8t/event/deleteComment'),('查看Exporter监控状态','/api/w8t/exporter/monitor/status'),('删除通知模版','/api/w8t/noticeTemplate/noticeTemplateDelete'),('创建用户角色','/api/w8t/role/roleCreate'),('创建告警规则组','/api/w8t/ruleGroup/ruleGroupCreate'),('查看告警规则组','/api/w8t/ruleGroup/ruleGroupList'),('更新告警规则组','/api/w8t/ruleGroup/ruleGroupUpdate'),('创建规则模版','/api/w8t/ruleTmpl/ruleTmplCreate'),('更新规则模版','/api/w8t/ruleTmpl/ruleTmplUpdate'),('快捷操作登录','/api/v1/alert/quick-login'),('删除通知对象','/api/w8t/notice/noticeDelete'),('更新通知对象','/api/w8t/notice/noticeUpdate');
/*!40000 ALTER TABLE `user_permissions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user_roles`
--

DROP TABLE IF EXISTS `user_roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_roles` (
  `id` varchar(191) NOT NULL,
  `name` longtext,
  `description` longtext,
  `permissions` longtext,
  `update_at` bigint DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user_roles`
--

LOCK TABLES `user_roles` WRITE;
/*!40000 ALTER TABLE `user_roles` DISABLE KEYS */;
INSERT INTO `user_roles` VALUES ('admin','admin','system','[{\"key\":\"查看静默规则\",\"api\":\"/api/w8t/silence/silenceList\"},{\"key\":\"更新用户\",\"api\":\"/api/w8t/user/userUpdate\"},{\"key\":\"获取租户详情\",\"api\":\"/api/w8t/tenant/getTenant\"},{\"key\":\"获取仪表盘目录详情\",\"api\":\"/api/w8t/dashboard/getFolder\"},{\"key\":\"查看告警订阅\",\"api\":\"/api/w8t/subscribe/listSubscribe\"},{\"key\":\"查看自定义静默表单\",\"api\":\"/api/v1/alert/quick-silence\"},{\"key\":\"查看值班表\",\"api\":\"/api/w8t/calendar/calendarSearch\"},{\"key\":\"删除数据源\",\"api\":\"/api/w8t/datasource/dataSourceDelete\"},{\"key\":\"创建告警规则\",\"api\":\"/api/w8t/rule/ruleCreate\"},{\"key\":\"删除告警规则组\",\"api\":\"/api/w8t/ruleGroup/ruleGroupDelete\"},{\"key\":\"查看告警规则\",\"api\":\"/api/w8t/rule/ruleList\"},{\"key\":\"删除静默规则\",\"api\":\"/api/w8t/silence/silenceDelete\"},{\"key\":\"删除拨测规则\",\"api\":\"/api/w8t/probing/deleteProbing\"},{\"key\":\"创建仪表盘目录\",\"api\":\"/api/w8t/dashboard/createFolder\"},{\"key\":\"查看数据源\",\"api\":\"/api/w8t/datasource/dataSourceList\"},{\"key\":\"查看租户\",\"api\":\"/api/w8t/tenant/getTenantList\"},{\"key\":\"创建通知对象\",\"api\":\"/api/w8t/notice/noticeCreate\"},{\"key\":\"注册用户\",\"api\":\"/api/system/register\"},{\"key\":\"查看用户角色\",\"api\":\"/api/w8t/role/roleList\"},{\"key\":\"查看规则模版组\",\"api\":\"/api/w8t/ruleTmplGroup/ruleTmplGroupList\"},{\"key\":\"创建静默规则\",\"api\":\"/api/w8t/silence/silenceCreate\"},{\"key\":\"删除租户成员\",\"api\":\"/api/w8t/tenant/delUsersOfTenant\"},{\"key\":\"更新数据源\",\"api\":\"/api/w8t/datasource/dataSourceUpdate\"},{\"key\":\"查看值班管理\",\"api\":\"/api/w8t/dutyManage/dutyManageList\"},{\"key\":\"获取系统配置\",\"api\":\"/api/w8t/setting/getSystemSetting\"},{\"key\":\"认领/处理告警\",\"api\":\"/api/w8t/event/processAlertEvent\"},{\"key\":\"更新Exporter自动刷新状态\",\"api\":\"/api/w8t/exporter/monitor/autoRefresh\"},{\"key\":\"删除租户\",\"api\":\"/api/w8t/tenant/deleteTenant\"},{\"key\":\"创建通知模版\",\"api\":\"/api/w8t/noticeTemplate/noticeTemplateCreate\"},{\"key\":\"删除告警规则\",\"api\":\"/api/w8t/rule/ruleDelete\"},{\"key\":\"删除规则模版组\",\"api\":\"/api/w8t/ruleTmplGroup/ruleTmplGroupDelete\"},{\"key\":\"删除用户\",\"api\":\"/api/w8t/user/userDelete\"},{\"key\":\"创建拨测规则\",\"api\":\"/api/w8t/probing/createProbing\"},{\"key\":\"查看拨测规则\",\"api\":\"/api/w8t/probing/listProbing\"},{\"key\":\"查看通知记录\",\"api\":\"/api/w8t/notice/noticeRecordList\"},{\"key\":\"更新告警规则\",\"api\":\"/api/w8t/rule/ruleUpdate\"},{\"key\":\"删除告警订阅\",\"api\":\"/api/w8t/subscribe/deleteSubscribe\"},{\"key\":\"删除故障中心\",\"api\":\"/api/w8t/faultCenter/faultCenterDelete\"},{\"key\":\"执行快捷操作(认领/静默/处理)\",\"api\":\"/api/v1/alert/quick-action\"},{\"key\":\"提交自定义静默\",\"api\":\"/api/v1/alert/quick-silence\"},{\"key\":\"手动触发Exporter巡检\",\"api\":\"/api/w8t/exporter/monitor/inspect\"},{\"key\":\"获取Prometheus标签名称\",\"api\":\"/api/w8t/prometheus/labels\"},{\"key\":\"更新值班管理\",\"api\":\"/api/w8t/dutyManage/dutyManageUpdate\"},{\"key\":\"更新拨测规则\",\"api\":\"/api/w8t/probing/updateProbing\"},{\"key\":\"创建值班管理\",\"api\":\"/api/w8t/dutyManage/dutyManageCreate\"},{\"key\":\"更新通知模版\",\"api\":\"/api/w8t/noticeTemplate/noticeTemplateUpdate\"},{\"key\":\"删除用户角色\",\"api\":\"/api/w8t/role/roleDelete\"},{\"key\":\"更新用户角色\",\"api\":\"/api/w8t/role/roleUpdate\"},{\"key\":\"查看租户成员\",\"api\":\"/api/w8t/tenant/getUsersForTenant\"},{\"key\":\"查看故障中心列表\",\"api\":\"/api/w8t/faultCenter/faultCenterList\"},{\"key\":\"获取Prometheus指标名称\",\"api\":\"/api/w8t/prometheus/metrics\"},{\"key\":\"查看用户权限\",\"api\":\"/api/w8t/permissions/permsList\"},{\"key\":\"修改故障中心基本信息\",\"api\":\"/api/w8t/faultCenter/faultCenterReset\"},{\"key\":\"查看Exporter监控历史\",\"api\":\"/api/w8t/exporter/monitor/history\"},{\"key\":\"更新Exporter监控配置\",\"api\":\"/api/w8t/exporter/monitor/config\"},{\"key\":\"获取Exporter报告推送配置\",\"api\":\"/api/w8t/exporter/monitor/schedule\"},{\"key\":\"获取数据源详情\",\"api\":\"/api/w8t/datasource/dataSourceGet\"},{\"key\":\"创建规则模版组\",\"api\":\"/api/w8t/ruleTmplGroup/ruleTmplGroupCreate\"},{\"key\":\"创建故障中心\",\"api\":\"/api/w8t/faultCenter/faultCenterCreate\"},{\"key\":\"获取Prometheus时间序列\",\"api\":\"/api/w8t/prometheus/series\"},{\"key\":\"创建值班表\",\"api\":\"/api/w8t/calendar/calendarCreate\"},{\"key\":\"创建租户\",\"api\":\"/api/w8t/tenant/createTenant\"},{\"key\":\"删除规则模版\",\"api\":\"/api/w8t/ruleTmpl/ruleTmplDelete\"},{\"key\":\"更新规则模版组\",\"api\":\"/api/w8t/ruleTmplGroup/ruleTmplGroupUpdate\"},{\"key\":\"修改用户密码\",\"api\":\"/api/w8t/user/userChangePass\"},{\"key\":\"获取拨测规则详情\",\"api\":\"/api/w8t/probing/searchProbing\"},{\"key\":\"查看仪表盘目录\",\"api\":\"/api/w8t/dashboard/listFolder\"},{\"key\":\"更新仪表盘目录\",\"api\":\"/api/w8t/dashboard/updateFolder\"},{\"key\":\"查看规则模版\",\"api\":\"/api/w8t/ruleTmpl/ruleTmplList\"},{\"key\":\"搜索告警订阅\",\"api\":\"/api/w8t/subscribe/getSubscribe\"},{\"key\":\"添加评论\",\"api\":\"/api/w8t/event/addComment\"},{\"key\":\"获取Exporter监控配置\",\"api\":\"/api/w8t/exporter/monitor/config\"},{\"key\":\"更新Exporter报告推送配置\",\"api\":\"/api/w8t/exporter/monitor/schedule\"},{\"key\":\"获取Prometheus标签值\",\"api\":\"/api/w8t/prometheus/label_values\"},{\"key\":\"更新值班表\",\"api\":\"/api/w8t/calendar/calendarUpdate\"},{\"key\":\"创建数据源\",\"api\":\"/api/w8t/datasource/dataSourceCreate\"},{\"key\":\"查看通知对象\",\"api\":\"/api/w8t/notice/noticeList\"},{\"key\":\"查看通知模版\",\"api\":\"/api/w8t/noticeTemplate/noticeTemplateList\"},{\"key\":\"查看用户列表\",\"api\":\"/api/w8t/user/userList\"},{\"key\":\"删除仪表盘目录\",\"api\":\"/api/w8t/dashboard/deleteFolder\"},{\"key\":\"创建告警订阅\",\"api\":\"/api/w8t/subscribe/createSubscribe\"},{\"key\":\"更新故障中心\",\"api\":\"/api/w8t/faultCenter/faultCenterUpdate\"},{\"key\":\"删除值班管理\",\"api\":\"/api/w8t/dutyManage/dutyManageDelete\"},{\"key\":\"修改租户成员角色\",\"api\":\"/api/w8t/tenant/changeTenantUserRole\"},{\"key\":\"查询故障中心\",\"api\":\"/api/w8t/faultCenter/faultCenterSearch\"},{\"key\":\"获取拨测历史详情\",\"api\":\"/api/w8t/probing/getProbingHistory\"},{\"key\":\"查看评论\",\"api\":\"/api/w8t/event/listComments\"},{\"key\":\"发送Exporter巡检报告\",\"api\":\"/api/w8t/exporter/monitor/report/send\"},{\"key\":\"获取告警规则详情\",\"api\":\"/api/w8t/rule/ruleSearch\"},{\"key\":\"更新静默规则\",\"api\":\"/api/w8t/silence/silenceUpdate\"},{\"key\":\"更新租户\",\"api\":\"/api/w8t/tenant/updateTenant\"},{\"key\":\"编辑系统配置\",\"api\":\"/api/w8t/setting/saveSystemSetting\"},{\"key\":\"添加租户成员\",\"api\":\"/api/w8t/tenant/addUsersToTenant\"},{\"key\":\"查看仪表盘图表\",\"api\":\"/api/w8t/dashboard/listGrafanaDashboards\"},{\"key\":\"删除评论\",\"api\":\"/api/w8t/event/deleteComment\"},{\"key\":\"查看Exporter监控状态\",\"api\":\"/api/w8t/exporter/monitor/status\"},{\"key\":\"删除通知模版\",\"api\":\"/api/w8t/noticeTemplate/noticeTemplateDelete\"},{\"key\":\"创建用户角色\",\"api\":\"/api/w8t/role/roleCreate\"},{\"key\":\"创建告警规则组\",\"api\":\"/api/w8t/ruleGroup/ruleGroupCreate\"},{\"key\":\"查看告警规则组\",\"api\":\"/api/w8t/ruleGroup/ruleGroupList\"},{\"key\":\"更新告警规则组\",\"api\":\"/api/w8t/ruleGroup/ruleGroupUpdate\"},{\"key\":\"创建规则模版\",\"api\":\"/api/w8t/ruleTmpl/ruleTmplCreate\"},{\"key\":\"更新规则模版\",\"api\":\"/api/w8t/ruleTmpl/ruleTmplUpdate\"},{\"key\":\"快捷操作登录\",\"api\":\"/api/v1/alert/quick-login\"},{\"key\":\"删除通知对象\",\"api\":\"/api/w8t/notice/noticeDelete\"},{\"key\":\"更新通知对象\",\"api\":\"/api/w8t/notice/noticeUpdate\"}]',1765358185);
/*!40000 ALTER TABLE `user_roles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_ai_content_record`
--

DROP TABLE IF EXISTS `w8t_ai_content_record`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_ai_content_record` (
  `rule_id` longtext,
  `content` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_ai_content_record`
--

LOCK TABLES `w8t_ai_content_record` WRITE;
/*!40000 ALTER TABLE `w8t_ai_content_record` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_ai_content_record` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_exporter_inspection`
--

DROP TABLE IF EXISTS `w8t_exporter_inspection`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_exporter_inspection` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `inspection_id` varchar(64) NOT NULL,
  `tenant_id` varchar(64) NOT NULL,
  `datasource_id` varchar(64) NOT NULL,
  `datasource_name` varchar(128) DEFAULT NULL,
  `inspection_time` datetime NOT NULL,
  `total_count` bigint NOT NULL DEFAULT '0',
  `up_count` bigint NOT NULL DEFAULT '0',
  `down_count` bigint NOT NULL DEFAULT '0',
  `unknown_count` bigint NOT NULL DEFAULT '0',
  `availability_rate` decimal(5,2) NOT NULL DEFAULT '0.00',
  `down_list_summary` longtext,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_inspection` (`inspection_id`),
  KEY `idx_inspection_time` (`inspection_time`),
  KEY `idx_tenant_time` (`tenant_id`),
  KEY `idx_datasource_time` (`datasource_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_exporter_inspection`
--

LOCK TABLES `w8t_exporter_inspection` WRITE;
/*!40000 ALTER TABLE `w8t_exporter_inspection` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_exporter_inspection` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_exporter_inspection_detail`
--

DROP TABLE IF EXISTS `w8t_exporter_inspection_detail`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_exporter_inspection_detail` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `inspection_id` varchar(64) NOT NULL,
  `tenant_id` varchar(64) NOT NULL,
  `datasource_id` varchar(64) NOT NULL,
  `datasource_name` varchar(128) DEFAULT NULL,
  `job` varchar(128) NOT NULL,
  `instance` varchar(256) NOT NULL,
  `labels` longtext,
  `scrape_url` varchar(512) DEFAULT NULL,
  `status` varchar(20) NOT NULL,
  `last_scrape_time` datetime DEFAULT NULL,
  `last_error` text,
  `down_duration` bigint DEFAULT '0',
  `down_since` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_instance` (`instance`),
  KEY `idx_status` (`status`),
  KEY `idx_inspection` (`inspection_id`),
  KEY `idx_tenant_inspection` (`tenant_id`),
  KEY `idx_job` (`job`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_exporter_inspection_detail`
--

LOCK TABLES `w8t_exporter_inspection_detail` WRITE;
/*!40000 ALTER TABLE `w8t_exporter_inspection_detail` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_exporter_inspection_detail` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_exporter_monitor_config`
--

DROP TABLE IF EXISTS `w8t_exporter_monitor_config`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_exporter_monitor_config` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `tenant_id` varchar(64) NOT NULL,
  `enabled` tinyint(1) DEFAULT '1',
  `datasource_ids` longtext,
  `inspection_times` longtext,
  `history_retention` bigint DEFAULT '90',
  `auto_refresh` tinyint(1) DEFAULT '0',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_tenant` (`tenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_exporter_monitor_config`
--

LOCK TABLES `w8t_exporter_monitor_config` WRITE;
/*!40000 ALTER TABLE `w8t_exporter_monitor_config` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_exporter_monitor_config` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_exporter_report_schedule`
--

DROP TABLE IF EXISTS `w8t_exporter_report_schedule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_exporter_report_schedule` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `tenant_id` varchar(64) NOT NULL,
  `enabled` tinyint(1) DEFAULT '1',
  `cron_expression` longtext,
  `notice_groups` longtext,
  `report_format` varchar(20) DEFAULT 'simple',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_tenant` (`tenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_exporter_report_schedule`
--

LOCK TABLES `w8t_exporter_report_schedule` WRITE;
/*!40000 ALTER TABLE `w8t_exporter_report_schedule` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_exporter_report_schedule` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_fault_center`
--

DROP TABLE IF EXISTS `w8t_fault_center`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_fault_center` (
  `tenant_id` longtext,
  `id` varchar(191) NOT NULL,
  `name` longtext,
  `description` longtext,
  `noticeIds` longtext,
  `notice_routes` longtext,
  `repeat_notice_interval` bigint DEFAULT NULL,
  `recover_notify` tinyint(1) DEFAULT NULL,
  `aggregation_type` longtext,
  `create_at` bigint DEFAULT NULL,
  `recover_wait_time` bigint DEFAULT NULL,
  `isUpgradeEnabled` tinyint(1) DEFAULT NULL,
  `upgradableSeverity` longtext,
  `upgradeStrategy` longtext,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_fault_center`
--

LOCK TABLES `w8t_fault_center` WRITE;
/*!40000 ALTER TABLE `w8t_fault_center` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_fault_center` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_probing_history`
--

DROP TABLE IF EXISTS `w8t_probing_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_probing_history` (
  `timestamp` bigint DEFAULT NULL,
  `rule_id` longtext,
  `value` longtext
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_probing_history`
--

LOCK TABLES `w8t_probing_history` WRITE;
/*!40000 ALTER TABLE `w8t_probing_history` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_probing_history` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `w8t_probing_rule`
--

DROP TABLE IF EXISTS `w8t_probing_rule`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `w8t_probing_rule` (
  `tenant_id` longtext,
  `rule_name` longtext,
  `rule_id` longtext,
  `rule_type` longtext,
  `repeat_notice_interval` bigint DEFAULT NULL,
  `probing_endpoint_config` longtext,
  `notice_id` longtext,
  `annotations` longtext,
  `recover_notify` tinyint(1) DEFAULT NULL,
  `severity` varchar(191) DEFAULT 'P1',
  `fault_center_id` varchar(191) DEFAULT '',
  `update_at` bigint DEFAULT NULL,
  `update_by` longtext,
  `enabled` tinyint(1) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `w8t_probing_rule`
--

LOCK TABLES `w8t_probing_rule` WRITE;
/*!40000 ALTER TABLE `w8t_probing_rule` DISABLE KEYS */;
/*!40000 ALTER TABLE `w8t_probing_rule` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-12-10 20:19:46
